import{P as Se,f as X,m as V,n as Gt,q as P,s as We,O as Ye,at as qn,ai as Yt,N as z,F as Je,r as D,B as ue,g as te,A as T,C as Ae,M as Jt,D as j,_ as zn,v as $e,a3 as Un,o as F,J as ie,w as we,c as Y,K as le,U as Te,x as ve,a as be,E as lt,y as N,b as qe,t as xe,a1 as Wn,z as Kn,V as Xn,d as Gn}from"./entry.ebd3bb8a.js";import{S as Yn,j as Qt,i as st,k as Jn,l as pt,m as Qe,n as Qn,o as Zt,e as _t,p as Zn,q as en,g as tn,d as _n,_ as nn}from"./Link.7fab82c8.js";import{i as ea,a as ta,g as na,_ as an}from"./Avatar.8b1122f4.js";import{a as kt,b as aa,d as oa}from"./index.948e5a5f.js";import{g as ra,i as ia}from"./Button.76eacea6.js";var la=1,ua=2;function sa(e,t,a,o){var n=a.length,r=n,l=!o;if(e==null)return!r;for(e=Object(e);n--;){var u=a[n];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++n<r;){u=a[n];var d=u[0],s=e[d],i=u[1];if(l&&u[2]){if(s===void 0&&!(d in e))return!1}else{var b=new Yn;if(o)var y=o(s,i,d,e,t,b);if(!(y===void 0?Qt(i,s,la|ua,o,b):y))return!1}}return!0}function on(e){return e===e&&!st(e)}function da(e){for(var t=Jn(e),a=t.length;a--;){var o=t[a],n=e[o];t[a]=[o,n,on(n)]}return t}function rn(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==void 0||e in Object(a))}}function ca(e){var t=da(e);return t.length==1&&t[0][2]?rn(t[0][0],t[0][1]):function(a){return a===e||sa(a,e,t)}}function fa(e,t){return e!=null&&t in Object(e)}function pa(e,t,a){t=pt(t,e);for(var o=-1,n=t.length,r=!1;++o<n;){var l=Qe(t[o]);if(!(r=e!=null&&a(e,l)))break;e=e[l]}return r||++o!=n?r:(n=e==null?0:e.length,!!n&&Qn(n)&&Zt(l,n)&&(_t(e)||Zn(e)))}function va(e,t){return e!=null&&pa(e,t,fa)}var ba=1,ma=2;function ga(e,t){return en(e)&&on(t)?rn(Qe(e),t):function(a){var o=ra(a,e);return o===void 0&&o===t?va(a,e):Qt(t,o,ba|ma)}}function ha(e){return function(t){return t==null?void 0:t[e]}}function ya(e){return function(t){return tn(t,e)}}function Oa(e){return en(e)?ha(Qe(e)):ya(e)}function ln(e){return typeof e=="function"?e:e==null?ea:typeof e=="object"?_t(e)?ga(e[0],e[1]):ca(e):Oa(e)}var wa="Expected a function";function xa(e){if(typeof e!="function")throw new TypeError(wa);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Sa(e,t,a,o){if(!st(e))return e;t=pt(t,e);for(var n=-1,r=t.length,l=r-1,u=e;u!=null&&++n<r;){var d=Qe(t[n]),s=a;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(n!=l){var i=u[d];s=o?o(i,d,u):void 0,s===void 0&&(s=st(i)?i:Zt(t[n+1])?[]:{})}ta(u,d,s),u=u[d]}return e}function Aa(e,t,a){for(var o=-1,n=t.length,r={};++o<n;){var l=t[o],u=tn(e,l);a(u,l)&&Sa(r,pt(l,e),u)}return r}function Ea(e,t){if(e==null)return{};var a=_n(na(e),function(o){return[o]});return t=ln(t),Aa(e,a,function(o,n){return t(o,n[0])})}function Pa(e,t){return Ea(e,xa(ln(t)))}const Ca=()=>{const e=Se("form-events",void 0),t=Se("form-path",void 0);return{emitFormBlur:()=>{e&&t&&e.emit({type:"blur",path:t})}}},Mr=X({props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(V.ui.formGroup.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},ui:{type:Object,default:()=>V.ui.formGroup}},setup(e,{slots:t}){const a=Gt(),o=P(()=>We({},e.ui,a.ui.formGroup));Ye("form-path",e.name);const n=Se("form-errors",null),r=P(()=>{var d,s;return e.error&&typeof e.error=="string"?e.error:(s=(d=n==null?void 0:n.value)==null?void 0:d.find(i=>i.path===e.name))==null?void 0:s.message}),l=P(()=>qn(t)),u=P(()=>l.value.map(d=>{var i;const s={};return r.value?(s.oldColor=(i=d.props)==null?void 0:i.color,s.color="red"):s.oldColor&&(s.color=s.oldColor),e.name&&(s.name=e.name),e.size&&(s.size=e.size),Yt(d,s)}));return()=>z("div",{class:[o.value.wrapper]},[e.label&&z("div",{class:[o.value.label.wrapper,o.value.size[e.size]]},[z("label",{for:e.name,class:[o.value.label.base,e.required&&o.value.label.required]},e.label),e.hint&&z("span",{class:[o.value.hint]},e.hint)]),e.description&&z("p",{class:[o.value.description,o.value.size[e.size]]},e.description),z("div",{class:[!!e.label&&o.value.container]},[...u.value,r.value?z("p",{class:[o.value.error,o.value.size[e.size]]},r.value):e.help?z("p",{class:[o.value.help,o.value.size[e.size]]},e.help):null])])}});function B(e,t,...a){if(e in t){let n=t[e];return typeof n=="function"?n(...a):n}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,B),o}var ge=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ge||{}),Ra=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ra||{});function _({visible:e=!0,features:t=0,ourProps:a,theirProps:o,...n}){var r;let l=sn(o,a),u=Object.assign(n,{props:l});if(e||t&2&&l.static)return ut(u);if(t&1){let d=(r=l.unmount)==null||r?0:1;return B(d,{[0](){return null},[1](){return ut({...n,props:{...l,hidden:!0,style:{display:"none"}}})}})}return ut(u)}function ut({props:e,attrs:t,slots:a,slot:o,name:n}){var r,l;let{as:u,...d}=Ze(e,["unmount","static"]),s=(r=a.default)==null?void 0:r.call(a,o),i={};if(o){let b=!1,y=[];for(let[f,w]of Object.entries(o))typeof w=="boolean"&&(b=!0),w===!0&&y.push(f);b&&(i["data-headlessui-state"]=y.join(" "))}if(u==="template"){if(s=un(s??[]),Object.keys(d).length>0||Object.keys(t).length>0){let[b,...y]=s??[];if(!Ia(b)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${n} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(t)).map(c=>c.trim()).filter((c,p,m)=>m.indexOf(c)===p).sort((c,p)=>c.localeCompare(p)).map(c=>`  - ${c}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(c=>`  - ${c}`).join(`
`)].join(`
`));let f=sn((l=b.props)!=null?l:{},d),w=Yt(b,f);for(let c in f)c.startsWith("on")&&(w.props||(w.props={}),w.props[c]=f[c]);return w}return Array.isArray(s)&&s.length===1?s[0]:s}return z(u,Object.assign({},d,i),{default:()=>s})}function un(e){return e.flatMap(t=>t.type===Je?un(t.children):[t])}function sn(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},a={};for(let o of e)for(let n in o)n.startsWith("on")&&typeof o[n]=="function"?(a[n]!=null||(a[n]=[]),a[n].push(o[n])):t[n]=o[n];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(a).map(o=>[o,void 0])));for(let o in a)Object.assign(t,{[o](n,...r){let l=a[o];for(let u of l){if(n instanceof Event&&n.defaultPrevented)return;u(n,...r)}}});return t}function dn(e){let t=Object.assign({},e);for(let a in t)t[a]===void 0&&delete t[a];return t}function Ze(e,t=[]){let a=Object.assign({},e);for(let o of t)o in a&&delete a[o];return a}function Ia(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Ma=0;function $a(){return++Ma}function ye(){return $a()}var L=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(L||{});function Ta(e){throw new Error("Unexpected object: "+e)}var k=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(k||{});function cn(e,t){let a=t.resolveItems();if(a.length<=0)return null;let o=t.resolveActiveIndex(),n=o??-1,r=(()=>{switch(e.focus){case 0:return a.findIndex(l=>!t.resolveDisabled(l));case 1:{let l=a.slice().reverse().findIndex((u,d,s)=>n!==-1&&s.length-d-1>=n?!1:!t.resolveDisabled(u));return l===-1?l:a.length-1-l}case 2:return a.findIndex((l,u)=>u<=n?!1:!t.resolveDisabled(l));case 3:{let l=a.slice().reverse().findIndex(u=>!t.resolveDisabled(u));return l===-1?l:a.length-1-l}case 4:return a.findIndex(l=>t.resolveId(l)===e.id);case 5:return null;default:Ta(e)}})();return r===-1?o:r}function R(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let fn=Symbol("Context");var ne=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ne||{});function $r(){return vt()!==null}function vt(){return Se(fn,null)}function pn(e){Ye(fn,e)}function Bt(e,t){if(e)return e;let a=t??"button";if(typeof a=="string"&&a.toLowerCase()==="button")return"button"}function vn(e,t){let a=D(Bt(e.value.type,e.value.as));return ue(()=>{a.value=Bt(e.value.type,e.value.as)}),te(()=>{var o;a.value||R(t)&&R(t)instanceof HTMLButtonElement&&!((o=R(t))!=null&&o.hasAttribute("type"))&&(a.value="button")}),a}var Da=Object.defineProperty,La=(e,t,a)=>t in e?Da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ft=(e,t,a)=>(La(e,typeof t!="symbol"?t+"":t,a),a);let ka=class{constructor(){Ft(this,"current",this.detect()),Ft(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},bt=new ka;function bn(e){if(bt.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=R(e);if(t)return t.ownerDocument}return document}function Ba({container:e,accept:t,walk:a,enabled:o}){te(()=>{let n=e.value;if(!n||o!==void 0&&!o.value)return;let r=bn(e);if(!r)return;let l=Object.assign(d=>t(d),{acceptNode:t}),u=r.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,l,!1);for(;u.nextNode();)a(u.currentNode)})}let dt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Fa=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Fa||{}),Na=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Na||{}),Va=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Va||{});function ja(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(dt)).sort((t,a)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}var mt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(mt||{});function mn(e,t=0){var a;return e===((a=bn(e))==null?void 0:a.body)?!1:B(t,{[0](){return e.matches(dt)},[1](){let o=e;for(;o!==null;){if(o.matches(dt))return!0;o=o.parentElement}return!1}})}var Ha=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ha||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Dr(e){e==null||e.focus({preventScroll:!0})}let qa=["textarea","input"].join(",");function za(e){var t,a;return(a=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,qa))!=null?a:!1}function gt(e,t=a=>a){return e.slice().sort((a,o)=>{let n=t(a),r=t(o);if(n===null||r===null)return 0;let l=n.compareDocumentPosition(r);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Lr(e,t,{sorted:a=!0,relativeTo:o=null,skipElements:n=[]}={}){var r;let l=(r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?r:document,u=Array.isArray(e)?a?gt(e):e:ja(e);n.length>0&&u.length>1&&(u=u.filter(w=>!n.includes(w))),o=o??l.activeElement;let d=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,u.indexOf(o))-1;if(t&4)return Math.max(0,u.indexOf(o))+1;if(t&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=t&32?{preventScroll:!0}:{},b=0,y=u.length,f;do{if(b>=y||b+y<=0)return 0;let w=s+b;if(t&16)w=(w+y)%y;else{if(w<0)return 3;if(w>=y)return 1}f=u[w],f==null||f.focus(i),b+=d}while(f!==l.activeElement);return t&6&&za(f)&&f.select(),2}function ze(e,t,a){bt.isServer||te(o=>{document.addEventListener(e,t,a),o(()=>document.removeEventListener(e,t,a))})}function Ua(e,t,a){bt.isServer||te(o=>{window.addEventListener(e,t,a),o(()=>window.removeEventListener(e,t,a))})}function gn(e,t,a=P(()=>!0)){function o(r,l){if(!a.value||r.defaultPrevented)return;let u=l(r);if(u===null||!u.getRootNode().contains(u))return;let d=function s(i){return typeof i=="function"?s(i()):Array.isArray(i)||i instanceof Set?i:[i]}(e);for(let s of d){if(s===null)continue;let i=s instanceof HTMLElement?s:R(s);if(i!=null&&i.contains(u)||r.composed&&r.composedPath().includes(i))return}return!mn(u,mt.Loose)&&u.tabIndex!==-1&&r.preventDefault(),t(r,u)}let n=D(null);ze("pointerdown",r=>{var l,u;a.value&&(n.value=((u=(l=r.composedPath)==null?void 0:l.call(r))==null?void 0:u[0])||r.target)},!0),ze("mousedown",r=>{var l,u;a.value&&(n.value=((u=(l=r.composedPath)==null?void 0:l.call(r))==null?void 0:u[0])||r.target)},!0),ze("click",r=>{n.value&&(o(r,()=>n.value),n.value=null)},!0),ze("touchend",r=>o(r,()=>r.target instanceof HTMLElement?r.target:null),!0),Ua("blur",r=>o(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var ht=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ht||{});let hn=X({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:a}){return()=>{let{features:o,...n}=e,r={"aria-hidden":(o&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return _({ourProps:r,theirProps:n,slot:{},attrs:a,slots:t,name:"Hidden"})}}});function yt(e={},t=null,a=[]){for(let[o,n]of Object.entries(e))On(a,yn(t,o),n);return a}function yn(e,t){return e?e+"["+t+"]":t}function On(e,t,a){if(Array.isArray(a))for(let[o,n]of a.entries())On(e,yn(t,o.toString()),n);else a instanceof Date?e.push([t,a.toISOString()]):typeof a=="boolean"?e.push([t,a?"1":"0"]):typeof a=="string"?e.push([t,a]):typeof a=="number"?e.push([t,`${a}`]):a==null?e.push([t,""]):yt(a,t,e)}function wn(e,t,a){let o=D(a==null?void 0:a.value),n=P(()=>e.value!==void 0);return[P(()=>n.value?e.value:o.value),function(r){return n.value||(o.value=r),t==null?void 0:t(r)}]}function Nt(e){return[e.screenX,e.screenY]}function xn(){let e=D([-1,-1]);return{wasMoved(t){let a=Nt(t);return e.value[0]===a[0]&&e.value[1]===a[1]?!1:(e.value=a,!0)},update(t){e.value=Nt(t)}}}function Wa(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ka(){return/Android/gi.test(window.navigator.userAgent)}function Xa(){return Wa()||Ka()}function Sn(){let e=[],t={addEventListener(a,o,n,r){return a.addEventListener(o,n,r),t.add(()=>a.removeEventListener(o,n,r))},requestAnimationFrame(...a){let o=requestAnimationFrame(...a);t.add(()=>cancelAnimationFrame(o))},nextFrame(...a){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...a)})},setTimeout(...a){let o=setTimeout(...a);t.add(()=>clearTimeout(o))},style(a,o,n){let r=a.style.getPropertyValue(o);return Object.assign(a.style,{[o]:n}),this.add(()=>{Object.assign(a.style,{[o]:r})})},group(a){let o=Sn();return a(o),this.add(()=>o.dispose())},add(a){return e.push(a),()=>{let o=e.indexOf(a);if(o>=0)for(let n of e.splice(o,1))n()}},dispose(){for(let a of e.splice(0))a()}};return t}function Ga(e,t){return e===t}var Ya=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ya||{}),Ja=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ja||{}),Qa=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qa||{});let An=Symbol("ComboboxContext");function Be(e){let t=Se(An,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Be),a}return t}let Za=X({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ga},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:a,emit:o}){let n=D(1),r=D(null),l=D(null),u=D(null),d=D(null),s=D({static:!1,hold:!1}),i=D([]),b=D(null),y=D(1),f=D(!1);function w(S=x=>x){let x=b.value!==null?i.value[b.value]:null,A=gt(S(i.value.slice()),I=>R(I.dataRef.domRef)),E=x?A.indexOf(x):null;return E===-1&&(E=null),{options:A,activeOptionIndex:E}}let c=P(()=>e.multiple?1:0),p=P(()=>e.nullable),[m,h]=wn(P(()=>e.modelValue===void 0?B(c.value,{[1]:[],[0]:void 0}):e.modelValue),S=>o("update:modelValue",S),P(()=>e.defaultValue)),O=null,g=null,v={comboboxState:n,value:m,mode:c,compare(S,x){if(typeof e.by=="string"){let A=e.by;return(S==null?void 0:S[A])===(x==null?void 0:x[A])}return e.by(S,x)},defaultValue:P(()=>e.defaultValue),nullable:p,inputRef:l,labelRef:r,buttonRef:u,optionsRef:d,disabled:P(()=>e.disabled),options:i,change(S){h(S)},activeOptionIndex:P(()=>{if(f.value&&b.value===null&&i.value.length>0){let S=i.value.findIndex(x=>!x.dataRef.disabled);S!==-1&&(b.value=S)}return b.value}),activationTrigger:y,optionsPropsRef:s,closeCombobox(){f.value=!1,!e.disabled&&n.value!==1&&(n.value=1,b.value=null)},openCombobox(){if(f.value=!0,e.disabled||n.value===0)return;let S=i.value.findIndex(x=>{let A=T(x.dataRef.value);return B(c.value,{[0]:()=>v.compare(T(v.value.value),T(A)),[1]:()=>T(v.value.value).some(E=>v.compare(T(E),T(A)))})});S!==-1&&(b.value=S),n.value=0},goToOption(S,x,A){O!==null&&cancelAnimationFrame(O),O=requestAnimationFrame(()=>{if(f.value=!1,e.disabled||d.value&&!s.value.static&&n.value===1)return;let E=w();if(E.activeOptionIndex===null){let $=E.options.findIndex(H=>!H.dataRef.disabled);$!==-1&&(E.activeOptionIndex=$)}let I=cn(S===k.Specific?{focus:k.Specific,id:x}:{focus:S},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});b.value=I,y.value=A??1,i.value=E.options})},selectOption(S){let x=i.value.find(E=>E.id===S);if(!x)return;let{dataRef:A}=x;h(B(c.value,{[0]:()=>A.value,[1]:()=>{let E=T(v.value.value).slice(),I=T(A.value),$=E.findIndex(H=>v.compare(I,T(H)));return $===-1?E.push(I):E.splice($,1),E}}))},selectActiveOption(){if(v.activeOptionIndex.value===null)return;let{dataRef:S,id:x}=i.value[v.activeOptionIndex.value];h(B(c.value,{[0]:()=>S.value,[1]:()=>{let A=T(v.value.value).slice(),E=T(S.value),I=A.findIndex($=>v.compare(E,T($)));return I===-1?A.push(E):A.splice(I,1),A}})),v.goToOption(k.Specific,x)},registerOption(S,x){g&&cancelAnimationFrame(g);let A={id:S,dataRef:x},E=w(I=>(I.push(A),I));if(b.value===null){let I=x.value.value;B(c.value,{[0]:()=>v.compare(T(v.value.value),T(I)),[1]:()=>T(v.value.value).some($=>v.compare(T($),T(I)))})&&(E.activeOptionIndex=E.options.indexOf(A))}i.value=E.options,b.value=E.activeOptionIndex,y.value=1,E.options.some(I=>!R(I.dataRef.domRef))&&(g=requestAnimationFrame(()=>{let I=w();i.value=I.options,b.value=I.activeOptionIndex}))},unregisterOption(S){var x;v.activeOptionIndex.value!==null&&((x=v.options.value[v.activeOptionIndex.value])==null?void 0:x.id)===S&&(f.value=!0);let A=w(E=>{let I=E.findIndex($=>$.id===S);return I!==-1&&E.splice(I,1),E});i.value=A.options,b.value=A.activeOptionIndex,y.value=1}};gn([l,u,d],()=>v.closeCombobox(),P(()=>n.value===0)),Ye(An,v),pn(P(()=>B(n.value,{[0]:ne.Open,[1]:ne.Closed})));let C=P(()=>v.activeOptionIndex.value===null?null:i.value[v.activeOptionIndex.value].dataRef.value),M=P(()=>{var S;return(S=R(l))==null?void 0:S.closest("form")});return ue(()=>{Ae([M],()=>{if(!M.value||e.defaultValue===void 0)return;function S(){v.change(e.defaultValue)}return M.value.addEventListener("reset",S),()=>{var x;(x=M.value)==null||x.removeEventListener("reset",S)}},{immediate:!0})}),()=>{let{name:S,disabled:x,form:A,...E}=e,I={open:n.value===0,disabled:x,activeIndex:v.activeOptionIndex.value,activeOption:C.value,value:m.value};return z(Je,[...S!=null&&m.value!=null?yt({[S]:m.value}).map(([$,H])=>z(hn,dn({features:ht.Hidden,key:$,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:A,name:$,value:H}))):[],_({theirProps:{...a,...Ze(E,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:I,slots:t,attrs:a,name:"Combobox"})])}}}),_a=X({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${ye()}`}},setup(e,{attrs:t,slots:a,expose:o}){let n=Be("ComboboxButton");o({el:n.buttonRef,$el:n.buttonRef});function r(d){n.disabled.value||(n.comboboxState.value===0?n.closeCombobox():(d.preventDefault(),n.openCombobox()),j(()=>{var s;return(s=R(n.inputRef))==null?void 0:s.focus({preventScroll:!0})}))}function l(d){switch(d.key){case L.ArrowDown:d.preventDefault(),d.stopPropagation(),n.comboboxState.value===1&&n.openCombobox(),j(()=>{var s;return(s=n.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case L.ArrowUp:d.preventDefault(),d.stopPropagation(),n.comboboxState.value===1&&(n.openCombobox(),j(()=>{n.value.value||n.goToOption(k.Last)})),j(()=>{var s;return(s=n.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case L.Escape:if(n.comboboxState.value!==0)return;d.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&d.stopPropagation(),n.closeCombobox(),j(()=>{var s;return(s=n.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return}}let u=vn(P(()=>({as:e.as,type:t.type})),n.buttonRef);return()=>{var d,s;let i={open:n.comboboxState.value===0,disabled:n.disabled.value,value:n.value.value},{id:b,...y}=e,f={ref:n.buttonRef,id:b,type:u.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(d=R(n.optionsRef))==null?void 0:d.id,"aria-expanded":n.comboboxState.value===0,"aria-labelledby":n.labelRef.value?[(s=R(n.labelRef))==null?void 0:s.id,b].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:l,onClick:r};return _({ourProps:f,theirProps:y,slot:i,attrs:t,slots:a,name:"ComboboxButton"})}}}),eo=X({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${ye()}`}},emits:{change:e=>!0},setup(e,{emit:t,attrs:a,slots:o,expose:n}){let r=Be("ComboboxInput"),l={value:!1};n({el:r.inputRef,$el:r.inputRef});let u=P(()=>{var c;let p=r.value.value;return R(r.inputRef)?typeof e.displayValue<"u"&&p!==void 0?(c=e.displayValue(p))!=null?c:"":typeof p=="string"?p:"":""});ue(()=>{Ae([u,r.comboboxState],([c,p],[m,h])=>{if(l.value)return;let O=R(r.inputRef);O&&((h===0&&p===1||c!==m)&&(O.value=c),requestAnimationFrame(()=>{if(l.value||!O)return;let{selectionStart:g,selectionEnd:v}=O;Math.abs((v??0)-(g??0))===0&&g===0&&O.setSelectionRange(O.value.length,O.value.length)}))},{immediate:!0}),Ae([r.comboboxState],([c],[p])=>{if(c===0&&p===1){if(l.value)return;let m=R(r.inputRef);if(!m)return;let h=m.value,{selectionStart:O,selectionEnd:g,selectionDirection:v}=m;m.value="",m.value=h,v!==null?m.setSelectionRange(O,g,v):m.setSelectionRange(O,g)}})});let d=D(!1);function s(){d.value=!0}function i(){Sn().nextFrame(()=>{d.value=!1})}function b(c){switch(l.value=!0,c.key){case L.Backspace:case L.Delete:if(r.mode.value!==0||!r.nullable.value)return;let p=c.currentTarget;requestAnimationFrame(()=>{if(p.value===""){r.change(null);let m=R(r.optionsRef);m&&(m.scrollTop=0),r.goToOption(k.Nothing)}});break;case L.Enter:if(l.value=!1,r.comboboxState.value!==0||d.value)return;if(c.preventDefault(),c.stopPropagation(),r.activeOptionIndex.value===null){r.closeCombobox();return}r.selectActiveOption(),r.mode.value===0&&r.closeCombobox();break;case L.ArrowDown:return l.value=!1,c.preventDefault(),c.stopPropagation(),B(r.comboboxState.value,{[0]:()=>r.goToOption(k.Next),[1]:()=>r.openCombobox()});case L.ArrowUp:return l.value=!1,c.preventDefault(),c.stopPropagation(),B(r.comboboxState.value,{[0]:()=>r.goToOption(k.Previous),[1]:()=>{r.openCombobox(),j(()=>{r.value.value||r.goToOption(k.Last)})}});case L.Home:if(c.shiftKey)break;return l.value=!1,c.preventDefault(),c.stopPropagation(),r.goToOption(k.First);case L.PageUp:return l.value=!1,c.preventDefault(),c.stopPropagation(),r.goToOption(k.First);case L.End:if(c.shiftKey)break;return l.value=!1,c.preventDefault(),c.stopPropagation(),r.goToOption(k.Last);case L.PageDown:return l.value=!1,c.preventDefault(),c.stopPropagation(),r.goToOption(k.Last);case L.Escape:if(l.value=!1,r.comboboxState.value!==0)return;c.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&c.stopPropagation(),r.closeCombobox();break;case L.Tab:if(l.value=!1,r.comboboxState.value!==0)return;r.mode.value===0&&r.selectActiveOption(),r.closeCombobox();break}}function y(c){t("change",c),r.openCombobox()}function f(){l.value=!1}let w=P(()=>{var c,p,m,h;return(h=(m=(p=e.defaultValue)!=null?p:r.defaultValue.value!==void 0?(c=e.displayValue)==null?void 0:c.call(e,r.defaultValue.value):null)!=null?m:r.defaultValue.value)!=null?h:""});return()=>{var c,p,m,h,O,g;let v={open:r.comboboxState.value===0},{id:C,displayValue:M,onChange:S,...x}=e,A={"aria-controls":(c=r.optionsRef.value)==null?void 0:c.id,"aria-expanded":r.comboboxState.value===0,"aria-activedescendant":r.activeOptionIndex.value===null||(p=r.options.value[r.activeOptionIndex.value])==null?void 0:p.id,"aria-labelledby":(O=(m=R(r.labelRef))==null?void 0:m.id)!=null?O:(h=R(r.buttonRef))==null?void 0:h.id,"aria-autocomplete":"list",id:C,onCompositionstart:s,onCompositionend:i,onKeydown:b,onInput:y,onBlur:f,role:"combobox",type:(g=a.type)!=null?g:"text",tabIndex:0,ref:r.inputRef,defaultValue:w.value,disabled:r.disabled.value===!0?!0:void 0};return _({ourProps:A,theirProps:x,slot:v,attrs:a,slots:o,features:ge.RenderStrategy|ge.Static,name:"ComboboxInput"})}}}),to=X({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:a,expose:o}){let n=Be("ComboboxOptions"),r=`headlessui-combobox-options-${ye()}`;o({el:n.optionsRef,$el:n.optionsRef}),te(()=>{n.optionsPropsRef.value.static=e.static}),te(()=>{n.optionsPropsRef.value.hold=e.hold});let l=vt(),u=P(()=>l!==null?(l.value&ne.Open)===ne.Open:n.comboboxState.value===0);return Ba({container:P(()=>R(n.optionsRef)),enabled:P(()=>n.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}}),()=>{var d,s,i;let b={open:n.comboboxState.value===0},y={"aria-labelledby":(i=(d=R(n.labelRef))==null?void 0:d.id)!=null?i:(s=R(n.buttonRef))==null?void 0:s.id,id:r,ref:n.optionsRef,role:"listbox","aria-multiselectable":n.mode.value===1?!0:void 0},f=Ze(e,["hold"]);return _({ourProps:y,theirProps:f,slot:b,attrs:t,slots:a,features:ge.RenderStrategy|ge.Static,visible:u.value,name:"ComboboxOptions"})}}}),no=X({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:a,expose:o}){let n=Be("ComboboxOption"),r=`headlessui-combobox-option-${ye()}`,l=D(null);o({el:l,$el:l});let u=P(()=>n.activeOptionIndex.value!==null?n.options.value[n.activeOptionIndex.value].id===r:!1),d=P(()=>B(n.mode.value,{[0]:()=>n.compare(T(n.value.value),T(e.value)),[1]:()=>T(n.value.value).some(p=>n.compare(T(p),T(e.value)))})),s=P(()=>({disabled:e.disabled,value:e.value,domRef:l}));ue(()=>n.registerOption(r,s)),Jt(()=>n.unregisterOption(r)),te(()=>{n.comboboxState.value===0&&u.value&&n.activationTrigger.value!==0&&j(()=>{var p,m;return(m=(p=R(l))==null?void 0:p.scrollIntoView)==null?void 0:m.call(p,{block:"nearest"})})});function i(p){if(e.disabled)return p.preventDefault();n.selectOption(r),n.mode.value===0&&n.closeCombobox(),Xa()||requestAnimationFrame(()=>{var m;return(m=R(n.inputRef))==null?void 0:m.focus()})}function b(){if(e.disabled)return n.goToOption(k.Nothing);n.goToOption(k.Specific,r)}let y=xn();function f(p){y.update(p)}function w(p){y.wasMoved(p)&&(e.disabled||u.value||n.goToOption(k.Specific,r,0))}function c(p){y.wasMoved(p)&&(e.disabled||u.value&&(n.optionsPropsRef.value.hold||n.goToOption(k.Nothing)))}return()=>{let{disabled:p}=e,m={active:u.value,selected:d.value,disabled:p},h={id:r,ref:l,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:i,onFocus:b,onPointerenter:f,onMouseenter:f,onPointermove:w,onMousemove:w,onPointerleave:c,onMouseleave:c};return _({ourProps:h,theirProps:e,slot:m,attrs:a,slots:t,name:"ComboboxOption"})}}}),Vt=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function jt(e){var t,a;let o=(t=e.innerText)!=null?t:"",n=e.cloneNode(!0);if(!(n instanceof HTMLElement))return o;let r=!1;for(let u of n.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),r=!0;let l=r?(a=n.innerText)!=null?a:"":o;return Vt.test(l)&&(l=l.replace(Vt,"")),l}function ao(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let a=e.getAttribute("aria-labelledby");if(a){let o=a.split(" ").map(n=>{let r=document.getElementById(n);if(r){let l=r.getAttribute("aria-label");return typeof l=="string"?l.trim():jt(r).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return jt(e).trim()}function oo(e){let t=D(""),a=D("");return()=>{let o=R(e);if(!o)return"";let n=o.innerText;if(t.value===n)return a.value;let r=ao(o).trim().toLowerCase();return t.value=n,a.value=r,r}}function ro(e,t){return e===t}var io=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(io||{}),lo=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(lo||{}),uo=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(uo||{});function so(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let En=Symbol("ListboxContext");function _e(e){let t=Se(En,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,_e),a}return t}let co=X({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ro},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:a,emit:o}){let n=D(1),r=D(null),l=D(null),u=D(null),d=D([]),s=D(""),i=D(null),b=D(1);function y(h=O=>O){let O=i.value!==null?d.value[i.value]:null,g=gt(h(d.value.slice()),C=>R(C.dataRef.domRef)),v=O?g.indexOf(O):null;return v===-1&&(v=null),{options:g,activeOptionIndex:v}}let f=P(()=>e.multiple?1:0),[w,c]=wn(P(()=>e.modelValue===void 0?B(f.value,{[1]:[],[0]:void 0}):e.modelValue),h=>o("update:modelValue",h),P(()=>e.defaultValue)),p={listboxState:n,value:w,mode:f,compare(h,O){if(typeof e.by=="string"){let g=e.by;return(h==null?void 0:h[g])===(O==null?void 0:O[g])}return e.by(h,O)},orientation:P(()=>e.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:l,optionsRef:u,disabled:P(()=>e.disabled),options:d,searchQuery:s,activeOptionIndex:i,activationTrigger:b,closeListbox(){e.disabled||n.value!==1&&(n.value=1,i.value=null)},openListbox(){e.disabled||n.value!==0&&(n.value=0)},goToOption(h,O,g){if(e.disabled||n.value===1)return;let v=y(),C=cn(h===k.Specific?{focus:k.Specific,id:O}:{focus:h},{resolveItems:()=>v.options,resolveActiveIndex:()=>v.activeOptionIndex,resolveId:M=>M.id,resolveDisabled:M=>M.dataRef.disabled});s.value="",i.value=C,b.value=g??1,d.value=v.options},search(h){if(e.disabled||n.value===1)return;let O=s.value!==""?0:1;s.value+=h.toLowerCase();let g=(i.value!==null?d.value.slice(i.value+O).concat(d.value.slice(0,i.value+O)):d.value).find(C=>C.dataRef.textValue.startsWith(s.value)&&!C.dataRef.disabled),v=g?d.value.indexOf(g):-1;v===-1||v===i.value||(i.value=v,b.value=1)},clearSearch(){e.disabled||n.value!==1&&s.value!==""&&(s.value="")},registerOption(h,O){let g=y(v=>[...v,{id:h,dataRef:O}]);d.value=g.options,i.value=g.activeOptionIndex},unregisterOption(h){let O=y(g=>{let v=g.findIndex(C=>C.id===h);return v!==-1&&g.splice(v,1),g});d.value=O.options,i.value=O.activeOptionIndex,b.value=1},select(h){e.disabled||c(B(f.value,{[0]:()=>h,[1]:()=>{let O=T(p.value.value).slice(),g=T(h),v=O.findIndex(C=>p.compare(g,T(C)));return v===-1?O.push(g):O.splice(v,1),O}}))}};gn([l,u],(h,O)=>{var g;p.closeListbox(),mn(O,mt.Loose)||(h.preventDefault(),(g=R(l))==null||g.focus())},P(()=>n.value===0)),Ye(En,p),pn(P(()=>B(n.value,{[0]:ne.Open,[1]:ne.Closed})));let m=P(()=>{var h;return(h=R(l))==null?void 0:h.closest("form")});return ue(()=>{Ae([m],()=>{if(!m.value||e.defaultValue===void 0)return;function h(){p.select(e.defaultValue)}return m.value.addEventListener("reset",h),()=>{var O;(O=m.value)==null||O.removeEventListener("reset",h)}},{immediate:!0})}),()=>{let{name:h,modelValue:O,disabled:g,form:v,...C}=e,M={open:n.value===0,disabled:g,value:w.value};return z(Je,[...h!=null&&w.value!=null?yt({[h]:w.value}).map(([S,x])=>z(hn,dn({features:ht.Hidden,key:S,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:v,name:S,value:x}))):[],_({ourProps:{},theirProps:{...a,...Ze(C,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:M,slots:t,attrs:a,name:"Listbox"})])}}}),fo=X({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${ye()}`}},setup(e,{attrs:t,slots:a,expose:o}){let n=_e("ListboxButton");o({el:n.buttonRef,$el:n.buttonRef});function r(s){switch(s.key){case L.Space:case L.Enter:case L.ArrowDown:s.preventDefault(),n.openListbox(),j(()=>{var i;(i=R(n.optionsRef))==null||i.focus({preventScroll:!0}),n.value.value||n.goToOption(k.First)});break;case L.ArrowUp:s.preventDefault(),n.openListbox(),j(()=>{var i;(i=R(n.optionsRef))==null||i.focus({preventScroll:!0}),n.value.value||n.goToOption(k.Last)});break}}function l(s){switch(s.key){case L.Space:s.preventDefault();break}}function u(s){n.disabled.value||(n.listboxState.value===0?(n.closeListbox(),j(()=>{var i;return(i=R(n.buttonRef))==null?void 0:i.focus({preventScroll:!0})})):(s.preventDefault(),n.openListbox(),so(()=>{var i;return(i=R(n.optionsRef))==null?void 0:i.focus({preventScroll:!0})})))}let d=vn(P(()=>({as:e.as,type:t.type})),n.buttonRef);return()=>{var s,i;let b={open:n.listboxState.value===0,disabled:n.disabled.value,value:n.value.value},{id:y,...f}=e,w={ref:n.buttonRef,id:y,type:d.value,"aria-haspopup":"listbox","aria-controls":(s=R(n.optionsRef))==null?void 0:s.id,"aria-expanded":n.listboxState.value===0,"aria-labelledby":n.labelRef.value?[(i=R(n.labelRef))==null?void 0:i.id,y].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:r,onKeyup:l,onClick:u};return _({ourProps:w,theirProps:f,slot:b,attrs:t,slots:a,name:"ListboxButton"})}}}),po=X({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${ye()}`}},setup(e,{attrs:t,slots:a,expose:o}){let n=_e("ListboxOptions"),r=D(null);o({el:n.optionsRef,$el:n.optionsRef});function l(s){switch(r.value&&clearTimeout(r.value),s.key){case L.Space:if(n.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),n.search(s.key);case L.Enter:if(s.preventDefault(),s.stopPropagation(),n.activeOptionIndex.value!==null){let i=n.options.value[n.activeOptionIndex.value];n.select(i.dataRef.value)}n.mode.value===0&&(n.closeListbox(),j(()=>{var i;return(i=R(n.buttonRef))==null?void 0:i.focus({preventScroll:!0})}));break;case B(n.orientation.value,{vertical:L.ArrowDown,horizontal:L.ArrowRight}):return s.preventDefault(),s.stopPropagation(),n.goToOption(k.Next);case B(n.orientation.value,{vertical:L.ArrowUp,horizontal:L.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),n.goToOption(k.Previous);case L.Home:case L.PageUp:return s.preventDefault(),s.stopPropagation(),n.goToOption(k.First);case L.End:case L.PageDown:return s.preventDefault(),s.stopPropagation(),n.goToOption(k.Last);case L.Escape:s.preventDefault(),s.stopPropagation(),n.closeListbox(),j(()=>{var i;return(i=R(n.buttonRef))==null?void 0:i.focus({preventScroll:!0})});break;case L.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(n.search(s.key),r.value=setTimeout(()=>n.clearSearch(),350));break}}let u=vt(),d=P(()=>u!==null?(u.value&ne.Open)===ne.Open:n.listboxState.value===0);return()=>{var s,i,b,y;let f={open:n.listboxState.value===0},{id:w,...c}=e,p={"aria-activedescendant":n.activeOptionIndex.value===null||(s=n.options.value[n.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":n.mode.value===1?!0:void 0,"aria-labelledby":(y=(i=R(n.labelRef))==null?void 0:i.id)!=null?y:(b=R(n.buttonRef))==null?void 0:b.id,"aria-orientation":n.orientation.value,id:w,onKeydown:l,role:"listbox",tabIndex:0,ref:n.optionsRef};return _({ourProps:p,theirProps:c,slot:f,attrs:t,slots:a,features:ge.RenderStrategy|ge.Static,visible:d.value,name:"ListboxOptions"})}}}),vo=X({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${ye()}`}},setup(e,{slots:t,attrs:a,expose:o}){let n=_e("ListboxOption"),r=D(null);o({el:r,$el:r});let l=P(()=>n.activeOptionIndex.value!==null?n.options.value[n.activeOptionIndex.value].id===e.id:!1),u=P(()=>B(n.mode.value,{[0]:()=>n.compare(T(n.value.value),T(e.value)),[1]:()=>T(n.value.value).some(m=>n.compare(T(m),T(e.value)))})),d=P(()=>B(n.mode.value,{[1]:()=>{var m;let h=T(n.value.value);return((m=n.options.value.find(O=>h.some(g=>n.compare(T(g),T(O.dataRef.value)))))==null?void 0:m.id)===e.id},[0]:()=>u.value})),s=oo(r),i=P(()=>({disabled:e.disabled,value:e.value,get textValue(){return s()},domRef:r}));ue(()=>n.registerOption(e.id,i)),Jt(()=>n.unregisterOption(e.id)),ue(()=>{Ae([n.listboxState,u],()=>{n.listboxState.value===0&&u.value&&B(n.mode.value,{[1]:()=>{d.value&&n.goToOption(k.Specific,e.id)},[0]:()=>{n.goToOption(k.Specific,e.id)}})},{immediate:!0})}),te(()=>{n.listboxState.value===0&&l.value&&n.activationTrigger.value!==0&&j(()=>{var m,h;return(h=(m=R(r))==null?void 0:m.scrollIntoView)==null?void 0:h.call(m,{block:"nearest"})})});function b(m){if(e.disabled)return m.preventDefault();n.select(e.value),n.mode.value===0&&(n.closeListbox(),j(()=>{var h;return(h=R(n.buttonRef))==null?void 0:h.focus({preventScroll:!0})}))}function y(){if(e.disabled)return n.goToOption(k.Nothing);n.goToOption(k.Specific,e.id)}let f=xn();function w(m){f.update(m)}function c(m){f.wasMoved(m)&&(e.disabled||l.value||n.goToOption(k.Specific,e.id,0))}function p(m){f.wasMoved(m)&&(e.disabled||l.value&&n.goToOption(k.Nothing))}return()=>{let{disabled:m}=e,h={active:l.value,selected:u.value,disabled:m},{id:O,value:g,disabled:v,...C}=e,M={id:O,ref:r,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onClick:b,onFocus:y,onPointerenter:w,onMouseenter:w,onPointermove:c,onMousemove:c,onPointerleave:p,onMouseleave:p};return _({ourProps:M,theirProps:C,slot:h,attrs:a,slots:t,name:"ListboxOption"})}}});function U(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function he(e){var t=U(e).Element;return e instanceof t||e instanceof Element}function W(e){var t=U(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ot(e){if(typeof ShadowRoot>"u")return!1;var t=U(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var me=Math.max,Ge=Math.min,Ee=Math.round;function ct(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Pn(){return!/^((?!chrome|android).)*safari/i.test(ct())}function Pe(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!1);var o=e.getBoundingClientRect(),n=1,r=1;t&&W(e)&&(n=e.offsetWidth>0&&Ee(o.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Ee(o.height)/e.offsetHeight||1);var l=he(e)?U(e):window,u=l.visualViewport,d=!Pn()&&a,s=(o.left+(d&&u?u.offsetLeft:0))/n,i=(o.top+(d&&u?u.offsetTop:0))/r,b=o.width/n,y=o.height/r;return{width:b,height:y,top:i,right:s+b,bottom:i+y,left:s,x:s,y:i}}function wt(e){var t=U(e),a=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:a,scrollTop:o}}function bo(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function mo(e){return e===U(e)||!W(e)?wt(e):bo(e)}function Q(e){return e?(e.nodeName||"").toLowerCase():null}function se(e){return((he(e)?e.ownerDocument:e.document)||window.document).documentElement}function xt(e){return Pe(se(e)).left+wt(e).scrollLeft}function ae(e){return U(e).getComputedStyle(e)}function St(e){var t=ae(e),a=t.overflow,o=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(a+n+o)}function go(e){var t=e.getBoundingClientRect(),a=Ee(t.width)/e.offsetWidth||1,o=Ee(t.height)/e.offsetHeight||1;return a!==1||o!==1}function ho(e,t,a){a===void 0&&(a=!1);var o=W(t),n=W(t)&&go(t),r=se(t),l=Pe(e,n,a),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!a)&&((Q(t)!=="body"||St(r))&&(u=mo(t)),W(t)?(d=Pe(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):r&&(d.x=xt(r))),{x:l.left+u.scrollLeft-d.x,y:l.top+u.scrollTop-d.y,width:l.width,height:l.height}}function Cn(e){var t=Pe(e),a=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-a)<=1&&(a=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:o}}function et(e){return Q(e)==="html"?e:e.assignedSlot||e.parentNode||(Ot(e)?e.host:null)||se(e)}function Rn(e){return["html","body","#document"].indexOf(Q(e))>=0?e.ownerDocument.body:W(e)&&St(e)?e:Rn(et(e))}function Le(e,t){var a;t===void 0&&(t=[]);var o=Rn(e),n=o===((a=e.ownerDocument)==null?void 0:a.body),r=U(o),l=n?[r].concat(r.visualViewport||[],St(o)?o:[]):o,u=t.concat(l);return n?u:u.concat(Le(et(l)))}function yo(e){return["table","td","th"].indexOf(Q(e))>=0}function Ht(e){return!W(e)||ae(e).position==="fixed"?null:e.offsetParent}function Oo(e){var t=/firefox/i.test(ct()),a=/Trident/i.test(ct());if(a&&W(e)){var o=ae(e);if(o.position==="fixed")return null}var n=et(e);for(Ot(n)&&(n=n.host);W(n)&&["html","body"].indexOf(Q(n))<0;){var r=ae(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function tt(e){for(var t=U(e),a=Ht(e);a&&yo(a)&&ae(a).position==="static";)a=Ht(a);return a&&(Q(a)==="html"||Q(a)==="body"&&ae(a).position==="static")?t:a||Oo(e)||t}var K="top",Z="bottom",oe="right",J="left",At="auto",nt=[K,Z,oe,J],Ce="start",ke="end",wo="clippingParents",In="viewport",De="popper",xo="reference",qt=nt.reduce(function(e,t){return e.concat([t+"-"+Ce,t+"-"+ke])},[]),Mn=[].concat(nt,[At]).reduce(function(e,t){return e.concat([t,t+"-"+Ce,t+"-"+ke])},[]),So="beforeRead",Ao="read",Eo="afterRead",Po="beforeMain",Co="main",Ro="afterMain",Io="beforeWrite",Mo="write",$o="afterWrite",To=[So,Ao,Eo,Po,Co,Ro,Io,Mo,$o];function Do(e){var t=new Map,a=new Set,o=[];e.forEach(function(r){t.set(r.name,r)});function n(r){a.add(r.name);var l=[].concat(r.requires||[],r.requiresIfExists||[]);l.forEach(function(u){if(!a.has(u)){var d=t.get(u);d&&n(d)}}),o.push(r)}return e.forEach(function(r){a.has(r.name)||n(r)}),o}function Lo(e){var t=Do(e);return To.reduce(function(a,o){return a.concat(t.filter(function(n){return n.phase===o}))},[])}function ko(e){var t;return function(){return t||(t=new Promise(function(a){Promise.resolve().then(function(){t=void 0,a(e())})})),t}}function Bo(e){var t=e.reduce(function(a,o){var n=a[o.name];return a[o.name]=n?Object.assign({},n,o,{options:Object.assign({},n.options,o.options),data:Object.assign({},n.data,o.data)}):o,a},{});return Object.keys(t).map(function(a){return t[a]})}function Fo(e,t){var a=U(e),o=se(e),n=a.visualViewport,r=o.clientWidth,l=o.clientHeight,u=0,d=0;if(n){r=n.width,l=n.height;var s=Pn();(s||!s&&t==="fixed")&&(u=n.offsetLeft,d=n.offsetTop)}return{width:r,height:l,x:u+xt(e),y:d}}function No(e){var t,a=se(e),o=wt(e),n=(t=e.ownerDocument)==null?void 0:t.body,r=me(a.scrollWidth,a.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),l=me(a.scrollHeight,a.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),u=-o.scrollLeft+xt(e),d=-o.scrollTop;return ae(n||a).direction==="rtl"&&(u+=me(a.clientWidth,n?n.clientWidth:0)-r),{width:r,height:l,x:u,y:d}}function Vo(e,t){var a=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(a&&Ot(a)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ft(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jo(e,t){var a=Pe(e,!1,t==="fixed");return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}function zt(e,t,a){return t===In?ft(Fo(e,a)):he(t)?jo(t,a):ft(No(se(e)))}function Ho(e){var t=Le(et(e)),a=["absolute","fixed"].indexOf(ae(e).position)>=0,o=a&&W(e)?tt(e):e;return he(o)?t.filter(function(n){return he(n)&&Vo(n,o)&&Q(n)!=="body"}):[]}function qo(e,t,a,o){var n=t==="clippingParents"?Ho(e):[].concat(t),r=[].concat(n,[a]),l=r[0],u=r.reduce(function(d,s){var i=zt(e,s,o);return d.top=me(i.top,d.top),d.right=Ge(i.right,d.right),d.bottom=Ge(i.bottom,d.bottom),d.left=me(i.left,d.left),d},zt(e,l,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function ee(e){return e.split("-")[0]}function Re(e){return e.split("-")[1]}function $n(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Tn(e){var t=e.reference,a=e.element,o=e.placement,n=o?ee(o):null,r=o?Re(o):null,l=t.x+t.width/2-a.width/2,u=t.y+t.height/2-a.height/2,d;switch(n){case K:d={x:l,y:t.y-a.height};break;case Z:d={x:l,y:t.y+t.height};break;case oe:d={x:t.x+t.width,y:u};break;case J:d={x:t.x-a.width,y:u};break;default:d={x:t.x,y:t.y}}var s=n?$n(n):null;if(s!=null){var i=s==="y"?"height":"width";switch(r){case Ce:d[s]=d[s]-(t[i]/2-a[i]/2);break;case ke:d[s]=d[s]+(t[i]/2-a[i]/2);break}}return d}function Dn(){return{top:0,right:0,bottom:0,left:0}}function zo(e){return Object.assign({},Dn(),e)}function Uo(e,t){return t.reduce(function(a,o){return a[o]=e,a},{})}function Et(e,t){t===void 0&&(t={});var a=t,o=a.placement,n=o===void 0?e.placement:o,r=a.strategy,l=r===void 0?e.strategy:r,u=a.boundary,d=u===void 0?wo:u,s=a.rootBoundary,i=s===void 0?In:s,b=a.elementContext,y=b===void 0?De:b,f=a.altBoundary,w=f===void 0?!1:f,c=a.padding,p=c===void 0?0:c,m=zo(typeof p!="number"?p:Uo(p,nt)),h=y===De?xo:De,O=e.rects.popper,g=e.elements[w?h:y],v=qo(he(g)?g:g.contextElement||se(e.elements.popper),d,i,l),C=Pe(e.elements.reference),M=Tn({reference:C,element:O,strategy:"absolute",placement:n}),S=ft(Object.assign({},O,M)),x=y===De?S:C,A={top:v.top-x.top+m.top,bottom:x.bottom-v.bottom+m.bottom,left:v.left-x.left+m.left,right:x.right-v.right+m.right},E=e.modifiersData.offset;if(y===De&&E){var I=E[n];Object.keys(A).forEach(function($){var H=[oe,Z].indexOf($)>=0?1:-1,de=[K,Z].indexOf($)>=0?"y":"x";A[$]+=I[de]*H})}return A}var Ut={placement:"bottom",modifiers:[],strategy:"absolute"};function Wt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Wo(e){e===void 0&&(e={});var t=e,a=t.defaultModifiers,o=a===void 0?[]:a,n=t.defaultOptions,r=n===void 0?Ut:n;return function(u,d,s){s===void 0&&(s=r);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ut,r),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},b=[],y=!1,f={state:i,setOptions:function(m){var h=typeof m=="function"?m(i.options):m;c(),i.options=Object.assign({},r,i.options,h),i.scrollParents={reference:he(u)?Le(u):u.contextElement?Le(u.contextElement):[],popper:Le(d)};var O=Lo(Bo([].concat(o,i.options.modifiers)));return i.orderedModifiers=O.filter(function(g){return g.enabled}),w(),f.update()},forceUpdate:function(){if(!y){var m=i.elements,h=m.reference,O=m.popper;if(Wt(h,O)){i.rects={reference:ho(h,tt(O),i.options.strategy==="fixed"),popper:Cn(O)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(A){return i.modifiersData[A.name]=Object.assign({},A.data)});for(var g=0;g<i.orderedModifiers.length;g++){if(i.reset===!0){i.reset=!1,g=-1;continue}var v=i.orderedModifiers[g],C=v.fn,M=v.options,S=M===void 0?{}:M,x=v.name;typeof C=="function"&&(i=C({state:i,options:S,name:x,instance:f})||i)}}}},update:ko(function(){return new Promise(function(p){f.forceUpdate(),p(i)})}),destroy:function(){c(),y=!0}};if(!Wt(u,d))return f;f.setOptions(s).then(function(p){!y&&s.onFirstUpdate&&s.onFirstUpdate(p)});function w(){i.orderedModifiers.forEach(function(p){var m=p.name,h=p.options,O=h===void 0?{}:h,g=p.effect;if(typeof g=="function"){var v=g({state:i,name:m,instance:f,options:O}),C=function(){};b.push(v||C)}})}function c(){b.forEach(function(p){return p()}),b=[]}return f}}var Ue={passive:!0};function Ko(e){var t=e.state,a=e.instance,o=e.options,n=o.scroll,r=n===void 0?!0:n,l=o.resize,u=l===void 0?!0:l,d=U(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&s.forEach(function(i){i.addEventListener("scroll",a.update,Ue)}),u&&d.addEventListener("resize",a.update,Ue),function(){r&&s.forEach(function(i){i.removeEventListener("scroll",a.update,Ue)}),u&&d.removeEventListener("resize",a.update,Ue)}}const Ln={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ko,data:{}};function Xo(e){var t=e.state,a=e.name;t.modifiersData[a]=Tn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Go={name:"popperOffsets",enabled:!0,phase:"read",fn:Xo,data:{}};var Yo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jo(e,t){var a=e.x,o=e.y,n=t.devicePixelRatio||1;return{x:Ee(a*n)/n||0,y:Ee(o*n)/n||0}}function Kt(e){var t,a=e.popper,o=e.popperRect,n=e.placement,r=e.variation,l=e.offsets,u=e.position,d=e.gpuAcceleration,s=e.adaptive,i=e.roundOffsets,b=e.isFixed,y=l.x,f=y===void 0?0:y,w=l.y,c=w===void 0?0:w,p=typeof i=="function"?i({x:f,y:c}):{x:f,y:c};f=p.x,c=p.y;var m=l.hasOwnProperty("x"),h=l.hasOwnProperty("y"),O=J,g=K,v=window;if(s){var C=tt(a),M="clientHeight",S="clientWidth";if(C===U(a)&&(C=se(a),ae(C).position!=="static"&&u==="absolute"&&(M="scrollHeight",S="scrollWidth")),C=C,n===K||(n===J||n===oe)&&r===ke){g=Z;var x=b&&C===v&&v.visualViewport?v.visualViewport.height:C[M];c-=x-o.height,c*=d?1:-1}if(n===J||(n===K||n===Z)&&r===ke){O=oe;var A=b&&C===v&&v.visualViewport?v.visualViewport.width:C[S];f-=A-o.width,f*=d?1:-1}}var E=Object.assign({position:u},s&&Yo),I=i===!0?Jo({x:f,y:c},U(a)):{x:f,y:c};if(f=I.x,c=I.y,d){var $;return Object.assign({},E,($={},$[g]=h?"0":"",$[O]=m?"0":"",$.transform=(v.devicePixelRatio||1)<=1?"translate("+f+"px, "+c+"px)":"translate3d("+f+"px, "+c+"px, 0)",$))}return Object.assign({},E,(t={},t[g]=h?c+"px":"",t[O]=m?f+"px":"",t.transform="",t))}function Qo(e){var t=e.state,a=e.options,o=a.gpuAcceleration,n=o===void 0?!0:o,r=a.adaptive,l=r===void 0?!0:r,u=a.roundOffsets,d=u===void 0?!0:u,s={placement:ee(t.placement),variation:Re(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Kt(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kt(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const kn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qo,data:{}};function Zo(e){var t=e.state;Object.keys(t.elements).forEach(function(a){var o=t.styles[a]||{},n=t.attributes[a]||{},r=t.elements[a];!W(r)||!Q(r)||(Object.assign(r.style,o),Object.keys(n).forEach(function(l){var u=n[l];u===!1?r.removeAttribute(l):r.setAttribute(l,u===!0?"":u)}))})}function _o(e){var t=e.state,a={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,a.popper),t.styles=a,t.elements.arrow&&Object.assign(t.elements.arrow.style,a.arrow),function(){Object.keys(t.elements).forEach(function(o){var n=t.elements[o],r=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:a[o]),u=l.reduce(function(d,s){return d[s]="",d},{});!W(n)||!Q(n)||(Object.assign(n.style,u),Object.keys(r).forEach(function(d){n.removeAttribute(d)}))})}}const er={name:"applyStyles",enabled:!0,phase:"write",fn:Zo,effect:_o,requires:["computeStyles"]};var tr=[Ln,Go,kn,er],nr={left:"right",right:"left",bottom:"top",top:"bottom"};function Ke(e){return e.replace(/left|right|bottom|top/g,function(t){return nr[t]})}var ar={start:"end",end:"start"};function Xt(e){return e.replace(/start|end/g,function(t){return ar[t]})}function or(e,t){t===void 0&&(t={});var a=t,o=a.placement,n=a.boundary,r=a.rootBoundary,l=a.padding,u=a.flipVariations,d=a.allowedAutoPlacements,s=d===void 0?Mn:d,i=Re(o),b=i?u?qt:qt.filter(function(w){return Re(w)===i}):nt,y=b.filter(function(w){return s.indexOf(w)>=0});y.length===0&&(y=b);var f=y.reduce(function(w,c){return w[c]=Et(e,{placement:c,boundary:n,rootBoundary:r,padding:l})[ee(c)],w},{});return Object.keys(f).sort(function(w,c){return f[w]-f[c]})}function rr(e){if(ee(e)===At)return[];var t=Ke(e);return[Xt(e),t,Xt(t)]}function ir(e){var t=e.state,a=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var n=a.mainAxis,r=n===void 0?!0:n,l=a.altAxis,u=l===void 0?!0:l,d=a.fallbackPlacements,s=a.padding,i=a.boundary,b=a.rootBoundary,y=a.altBoundary,f=a.flipVariations,w=f===void 0?!0:f,c=a.allowedAutoPlacements,p=t.options.placement,m=ee(p),h=m===p,O=d||(h||!w?[Ke(p)]:rr(p)),g=[p].concat(O).reduce(function(Oe,re){return Oe.concat(ee(re)===At?or(t,{placement:re,boundary:i,rootBoundary:b,padding:s,flipVariations:w,allowedAutoPlacements:c}):re)},[]),v=t.rects.reference,C=t.rects.popper,M=new Map,S=!0,x=g[0],A=0;A<g.length;A++){var E=g[A],I=ee(E),$=Re(E)===Ce,H=[K,Z].indexOf(I)>=0,de=H?"width":"height",q=Et(t,{placement:E,boundary:i,rootBoundary:b,altBoundary:y,padding:s}),G=H?$?oe:J:$?Z:K;v[de]>C[de]&&(G=Ke(G));var Fe=Ke(G),ce=[];if(r&&ce.push(q[I]<=0),u&&ce.push(q[G]<=0,q[Fe]<=0),ce.every(function(Oe){return Oe})){x=E,S=!1;break}M.set(E,ce)}if(S)for(var Ne=w?3:1,at=function(re){var Me=g.find(function(je){var fe=M.get(je);if(fe)return fe.slice(0,re).every(function(ot){return ot})});if(Me)return x=Me,"break"},Ie=Ne;Ie>0;Ie--){var Ve=at(Ie);if(Ve==="break")break}t.placement!==x&&(t.modifiersData[o]._skip=!0,t.placement=x,t.reset=!0)}}const lr={name:"flip",enabled:!0,phase:"main",fn:ir,requiresIfExists:["offset"],data:{_skip:!1}};function ur(e,t,a){var o=ee(e),n=[J,K].indexOf(o)>=0?-1:1,r=typeof a=="function"?a(Object.assign({},t,{placement:e})):a,l=r[0],u=r[1];return l=l||0,u=(u||0)*n,[J,oe].indexOf(o)>=0?{x:u,y:l}:{x:l,y:u}}function sr(e){var t=e.state,a=e.options,o=e.name,n=a.offset,r=n===void 0?[0,0]:n,l=Mn.reduce(function(i,b){return i[b]=ur(b,t.rects,r),i},{}),u=l[t.placement],d=u.x,s=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=s),t.modifiersData[o]=l}const dr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sr};function cr(e){return e==="x"?"y":"x"}function Xe(e,t,a){return me(e,Ge(t,a))}function fr(e,t,a){var o=Xe(e,t,a);return o>a?a:o}function pr(e){var t=e.state,a=e.options,o=e.name,n=a.mainAxis,r=n===void 0?!0:n,l=a.altAxis,u=l===void 0?!1:l,d=a.boundary,s=a.rootBoundary,i=a.altBoundary,b=a.padding,y=a.tether,f=y===void 0?!0:y,w=a.tetherOffset,c=w===void 0?0:w,p=Et(t,{boundary:d,rootBoundary:s,padding:b,altBoundary:i}),m=ee(t.placement),h=Re(t.placement),O=!h,g=$n(m),v=cr(g),C=t.modifiersData.popperOffsets,M=t.rects.reference,S=t.rects.popper,x=typeof c=="function"?c(Object.assign({},t.rects,{placement:t.placement})):c,A=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(C){if(r){var $,H=g==="y"?K:J,de=g==="y"?Z:oe,q=g==="y"?"height":"width",G=C[g],Fe=G+p[H],ce=G-p[de],Ne=f?-S[q]/2:0,at=h===Ce?M[q]:S[q],Ie=h===Ce?-S[q]:-M[q],Ve=t.elements.arrow,Oe=f&&Ve?Cn(Ve):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Dn(),Me=re[H],je=re[de],fe=Xe(0,M[q],Oe[q]),ot=O?M[q]/2-Ne-fe-Me-A.mainAxis:at-fe-Me-A.mainAxis,Bn=O?-M[q]/2+Ne+fe+je+A.mainAxis:Ie+fe+je+A.mainAxis,rt=t.elements.arrow&&tt(t.elements.arrow),Fn=rt?g==="y"?rt.clientTop||0:rt.clientLeft||0:0,Pt=($=E==null?void 0:E[g])!=null?$:0,Nn=G+ot-Pt-Fn,Vn=G+Bn-Pt,Ct=Xe(f?Ge(Fe,Nn):Fe,G,f?me(ce,Vn):ce);C[g]=Ct,I[g]=Ct-G}if(u){var Rt,jn=g==="x"?K:J,Hn=g==="x"?Z:oe,pe=C[v],He=v==="y"?"height":"width",It=pe+p[jn],Mt=pe-p[Hn],it=[K,J].indexOf(m)!==-1,$t=(Rt=E==null?void 0:E[v])!=null?Rt:0,Tt=it?It:pe-M[He]-S[He]-$t+A.altAxis,Dt=it?pe+M[He]+S[He]-$t-A.altAxis:Mt,Lt=f&&it?fr(Tt,pe,Dt):Xe(f?Tt:It,pe,f?Dt:Mt);C[v]=Lt,I[v]=Lt-pe}t.modifiersData[o]=I}}const vr={name:"preventOverflow",enabled:!0,phase:"main",fn:pr,requiresIfExists:["offset"]},br=Wo({defaultModifiers:[...tr,dr,lr,vr,kn,Ln]});function mr({locked:e=!1,overflowPadding:t=8,offsetDistance:a=8,offsetSkid:o=0,gpuAcceleration:n=!0,adaptive:r=!0,scroll:l=!0,resize:u=!0,placement:d,strategy:s},i){const b=D(null),y=D(null),f=D(null);return ue(()=>{te(w=>{if(!y.value||!b.value&&!(i!=null&&i.value))return;const c=kt(y),p=(i==null?void 0:i.value)||kt(b);c instanceof HTMLElement&&p&&(f.value=br(p,c,Pa({placement:d,strategy:s,modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:t}},{name:"offset",options:{offset:[o,a]}},{name:"computeStyles",options:{adaptive:r,gpuAcceleration:n}},{name:"eventListeners",options:{scroll:l,resize:u}}]},ia)),w(f.value.destroy))})}),[b,y,f]}const gr=X({components:{HCombobox:Za,HComboboxButton:_a,HComboboxOptions:to,HComboboxOption:no,HComboboxInput:eo,HListbox:co,HListboxButton:fo,HListboxOptions:po,HListboxOption:vo,UIcon:nn,UAvatar:an},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:""},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>V.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>V.ui.select.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>V.ui.selectMenu.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:()=>V.ui.select.default.size,validator(e){return Object.keys(V.ui.select.size).includes(e)}},color:{type:String,default:()=>V.ui.select.default.color,validator(e){return[...V.ui.colors,...Object.keys(V.ui.select.color)].includes(e)}},variant:{type:String,default:()=>V.ui.select.default.variant,validator(e){return[...Object.keys(V.ui.select.variant),...Object.values(V.ui.select.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},ui:{type:Object,default:()=>V.ui.select},uiMenu:{type:Object,default:()=>V.ui.selectMenu}},emits:["update:modelValue","open","close","change"],setup(e,{emit:t,slots:a}){const o=Gt(),n=P(()=>We({},e.ui,o.ui.select)),r=P(()=>We({},e.uiMenu,o.ui.selectMenu)),l=P(()=>We({},e.popper,r.value.popper)),[u,d]=mr(l.value),{emitFormBlur:s}=Ca(),i=D(""),b=D(),y=P(()=>{var A,E;const x=((E=(A=n.value.color)==null?void 0:A[e.color])==null?void 0:E[e.variant])||n.value.variant[e.variant];return $e(n.value.base,n.value.rounded,"text-left cursor-default",n.value.size[e.size],n.value.gap[e.size],e.padded?n.value.padding[e.size]:"p-0",x==null?void 0:x.replaceAll("{color}",e.color),(f.value||a.leading)&&n.value.leading.padding[e.size],(w.value||a.trailing)&&n.value.trailing.padding[e.size],"inline-flex items-center")}),f=P(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),w=P(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),c=P(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),p=P(()=>e.loading&&!f.value?e.loadingIcon:e.trailingIcon||e.icon),m=P(()=>$e(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[e.size])),h=P(()=>$e(n.value.icon.base,o.ui.colors.includes(e.color)&&n.value.icon.color.replaceAll("{color}",e.color),n.value.icon.size[e.size],e.loading&&"animate-spin")),O=P(()=>$e(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[e.size])),g=P(()=>$e(n.value.icon.base,o.ui.colors.includes(e.color)&&n.value.icon.color.replaceAll("{color}",e.color),n.value.icon.size[e.size],e.loading&&!f.value&&"animate-spin")),v=typeof e.searchable=="function"?aa(e.searchable,e.debounce):void 0,C=oa(async()=>e.searchable&&v?await v(i.value):i.value===""?e.options:e.options.filter(x=>{var A;return((A=e.searchAttributes)!=null&&A.length?e.searchAttributes:[e.optionAttribute]).some(E=>typeof x=="string"?x.search(new RegExp(i.value,"i"))!==-1:x[E]&&x[E].search(new RegExp(i.value,"i"))!==-1)})),M=P(()=>i.value===""?null:{[e.optionAttribute]:i.value});Ae(d,x=>{x?t("open"):(t("close"),s())});function S(x){var A;i.value&&((A=b.value)!=null&&A.$el)&&(i.value="",b.value.$el.value=""),t("update:modelValue",x),t("change",x),s()}return{uiMenu:r,trigger:u,container:d,isLeading:f,isTrailing:w,selectClass:y,leadingIconName:c,leadingIconClass:h,leadingWrapperIconClass:m,trailingIconName:p,trailingIconClass:g,trailingWrapperIconClass:O,filteredOptions:C,queryOption:M,query:i,onUpdate:S}}}),hr=["value","required"],yr=["disabled"],Or={key:0,class:"block truncate"},wr={key:1,class:"block truncate"},xr={class:"truncate"},Sr={class:"block truncate"};function Ar(e,t,a,o,n,r){const l=nn,u=Un("HComboboxInput"),d=an;return F(),ie(Te(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled||e.loading,as:"div",class:N(e.uiMenu.wrapper),"onUpdate:modelValue":e.onUpdate},{default:we(({open:s})=>[e.required?(F(),Y("input",{key:0,value:e.modelValue,required:e.required,class:"absolute inset-0 w-px opacity-0 cursor-default",tabindex:"-1","aria-hidden":"true"},null,8,hr)):le("",!0),(F(),ie(Te(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:"inline-flex w-full"},{default:we(()=>[ve(e.$slots,"default",{open:s,disabled:e.disabled,loading:e.loading},()=>[be("button",lt({class:e.selectClass,disabled:e.disabled||e.loading,type:"button"},e.$attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(F(),Y("span",{key:0,class:N(e.leadingWrapperIconClass)},[ve(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[qe(l,{name:e.leadingIconName,class:N(e.leadingIconClass)},null,8,["name","class"])])],2)):le("",!0),ve(e.$slots,"label",{},()=>[e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length?(F(),Y("span",Or,xe(e.modelValue.length)+" selected",1)):!e.multiple&&e.modelValue?(F(),Y("span",wr,xe(typeof e.modelValue=="string"?e.modelValue:e.modelValue[e.optionAttribute]),1)):(F(),Y("span",{key:2,class:N(["block truncate",e.uiMenu.placeholder])},xe(e.placeholder||""),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(F(),Y("span",{key:1,class:N(e.trailingWrapperIconClass)},[ve(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[qe(l,{name:e.trailingIconName,class:N(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):le("",!0)],16,yr)])]),_:2},1536)),s?(F(),Y("div",{key:1,ref:"container",class:N([e.uiMenu.container,e.uiMenu.width])},[qe(Wn,lt({appear:""},e.uiMenu.transition),{default:we(()=>[(F(),ie(Te(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:N([e.uiMenu.base,e.uiMenu.divide,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:we(()=>[e.searchable?(F(),ie(u,{key:0,ref:"searchInput","display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:N(e.uiMenu.input),onChange:t[0]||(t[0]=i=>e.query=i.target.value)},null,8,["display-value","placeholder","class"])):le("",!0),(F(!0),Y(Je,null,Kn(e.filteredOptions,(i,b)=>(F(),ie(Te(e.searchable?"HComboboxOption":"HListboxOption"),{key:b,as:"template",value:e.valueAttribute?i[e.valueAttribute]:i,disabled:i.disabled},{default:we(({active:y,selected:f,disabled:w})=>[be("li",{class:N([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,y?e.uiMenu.option.active:e.uiMenu.option.inactive,f&&e.uiMenu.option.selected,w&&e.uiMenu.option.disabled])},[be("div",{class:N(e.uiMenu.option.container)},[ve(e.$slots,"option",{option:i,active:y,selected:f},()=>[i.icon?(F(),ie(l,{key:0,name:i.icon,class:N([e.uiMenu.option.icon.base,y?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,i.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):i.avatar?(F(),ie(d,lt({key:1},{size:e.uiMenu.option.avatar.size,...i.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):i.chip?(F(),Y("span",{key:2,class:N(e.uiMenu.option.chip.base),style:Xn({background:`#${i.chip}`})},null,6)):le("",!0),be("span",xr,xe(typeof i=="string"?i:i[e.optionAttribute]),1)])],2),f?(F(),Y("span",{key:0,class:N([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[qe(l,{name:e.selectedIcon,class:N(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):le("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.queryOption&&!e.filteredOptions.length?(F(),ie(Te(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.queryOption,as:"template"},{default:we(({active:i,selected:b})=>[be("li",{class:N([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,i?e.uiMenu.option.active:e.uiMenu.option.inactive])},[be("div",{class:N(e.uiMenu.option.container)},[ve(e.$slots,"option-create",{option:e.queryOption,active:i,selected:b},()=>[be("span",Sr,'Create "'+xe(e.queryOption[e.optionAttribute])+'"',1)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!e.filteredOptions.length?(F(),Y("p",{key:2,class:N(e.uiMenu.option.empty)},[ve(e.$slots,"option-empty",{query:e.query},()=>[Gn(' No results for "'+xe(e.query)+'". ',1)])],2)):le("",!0)]),_:3},8,["class"]))]),_:3},16)],2)):le("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const kr=zn(gr,[["render",Ar]]);export{$r as C,_ as H,Fa as N,Lr as P,Dr as S,Na as T,Mr as _,kr as a,ht as b,bt as c,B as d,ye as e,hn as f,ge as g,L as h,Ra as i,pn as j,Ze as k,ne as l,bn as m,ln as n,R as o,vt as p,Sn as r,Wa as t,Ca as u,Ua as w,gn as y};
