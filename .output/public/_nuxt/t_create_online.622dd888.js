import{_ as j,g as C,a as D,E as I,b as M,c as N,d as R}from"./el-progress.b1c6187d.js";import{_ as T,a as A}from"./SelectMenu.d9f3361b.js";import{E as G}from"./el-button.31ad6e99.js";import{_ as $}from"./Button.76eacea6.js";import{f as q,r as p,k as O,o as P,c as H,b as e,w as t,i as a,a as s,l as J,d as x,j as K}from"./entry.ebd3bb8a.js";import"./Link.7fab82c8.js";import"./nuxt-link.65fe6b0a.js";import"./Avatar.8b1122f4.js";import"./index.948e5a5f.js";import"./dayjs.min.dc50587d.js";const L={class:"flex flex-col justify-between"},Q={class:"flex space-x-9"},W={class:"flex space-x-9"},X={class:"flex space-x-9"},Y={class:"flex space-x-9"},Z={class:"flex space-x-9"},ee={class:"flex space-x-9 items-center"},te={class:"flex items-center"},ae=s("label",{class:"mr-3"},"赛事横幅",-1),oe=s("div",{class:"flex justify-center items-center h-full bg-white"},[s("div",{class:"i-custom-svg:image-placeholder text-#E6EDFF text-44px"})],-1),ne={class:"m-4 flex flex-col items-center"},le=s("div",{class:"text-14px w-160px mb-4 text-center"}," 新上传的文件将覆盖原有上传文件,确定操作？ ",-1),re={class:"flex justify-around"},ge=q({__name:"t_create_online",setup(se){const g={base:"relative block w-full disabled:cursor-not-allowed disabled:bg-#e5e5e5 focus:outline-none border-0"},r={wrapper:"flex items-center",label:{base:"mr-3 font-sans whitespace-nowrap text-16px"},container:"mt-0"},d={rounded:"rounded-10px",color:{white:{outline:"shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary_1 dark:focus:ring-primary-400"}},base:"relative block w-full disabled:cursor-not-allowed disabled:bg-#E5E5E5 focus:outline-none border-0 "},o=p({tournament_state:{},tournament_name:"",tournament_mode:"123",tournament_type:"231",tournament_organizer:"",tournament_organizer_weburl:"",tournament_time_range:"",tournament_register_deadline:"",tournament_register_conditions:"",tournament_remarks:"",tournament_player_quota:0,tournament_project:"",tournament_rounds:1,tournament_display_on_home:!0,tournament_display_order:0,tournament_banner:{name:"zzx58",url:"https://p9-passport.byteacctimg.com/img/user-avatar/59296777f828ae4101819744e0ef154c~64x64.awebp",uploadApiUrl:""}}),h=[{type_id:"2",name:"线上赛",value:"online"},{type_id:"1",name:"线下赛",value:"offline"}],w=[{name:"个人赛",value:"individual"}],c=p(),_=p(!1),f=p(!1),U=()=>{var m;f.value=!0,(m=c.value)==null||m.submit(),setTimeout(()=>{f.value=!1},1e3),o.value.tournament_banner.url="",setTimeout(()=>{_.value=!1},1e3)},V=m=>{var i,l;(i=c.value)==null||i.clearFiles();const n=m[0];n.uid=C(),(l=c.value)==null||l.handleStart(n)};return(m,n)=>{const i=D,l=T,v=A,y=G,k=I,E=M,b=$,S=N,z=R,B=j,F=O("modal");return P(),H("div",L,[e(B,{state:a(o),ref:"formData",class:"space-y-6"},{default:t(()=>[e(l,{label:"比赛名称",ui:r},{default:t(()=>[e(i,{ui:d,modelValue:a(o).tournament_name,"onUpdate:modelValue":n[0]||(n[0]=u=>a(o).tournament_name=u),disabled:!!a(o).tournament_name},null,8,["modelValue","disabled"])]),_:1}),s("div",Q,[e(l,{label:"比赛模式",ui:r},{default:t(()=>[e(v,{ui:g,modelValue:a(o).tournament_mode,"onUpdate:modelValue":n[1]||(n[1]=u=>a(o).tournament_mode=u),options:h,"option-attribute":"name",placeholder:"请选择比赛模式..",disabled:!!a(o).tournament_mode},null,8,["modelValue","disabled"])]),_:1}),e(l,{label:"比赛类型",ui:r},{default:t(()=>[e(v,{ui:g,modelValue:a(o).tournament_type,"onUpdate:modelValue":n[2]||(n[2]=u=>a(o).tournament_type=u),options:w,"option-attribute":"name",placeholder:"请选择比赛类型..",disabled:!!a(o).tournament_type},null,8,["modelValue","disabled"])]),_:1})]),s("div",W,[e(l,{label:"主办方",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1}),e(l,{label:"主办网站",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1})]),s("div",X,[e(l,{label:"比赛时间",ui:r},{default:t(()=>[e(y,{type:"datetimerange","start-placeholder":"开始时间","end-placeholder":"结束时间",size:"large",modelValue:a(o).tournament_time_range,"onUpdate:modelValue":n[3]||(n[3]=u=>a(o).tournament_time_range=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"报名截止时间",ui:r},{default:t(()=>[J(e(y,{type:"datetime",placeholder:"选择报名截止时间",size:"large"},null,512),[[F,a(o).tournament_register_deadline]])]),_:1})]),s("div",Y,[e(l,{label:"报名条件",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1}),e(l,{label:"备注",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1}),e(l,{label:"报名名额",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1})]),e(l,{ui:r,label:"比赛项目"}),s("div",Z,[e(l,{label:"比赛规则",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1}),e(l,{label:"比赛轮次",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1})]),s("div",ee,[e(l,{label:"是否上首页赛事展示",ui:r},{default:t(()=>[e(k,{modelValue:a(o).tournament_display_on_home,"onUpdate:modelValue":n[4]||(n[4]=u=>a(o).tournament_display_on_home=u),style:{"--el-switch-off-color":"#70708c","--el-switch-on-color":"#ff8f6b"},size:"large","active-text":"是","inactive-text":"否","inline-prompt":""},null,8,["modelValue"])]),_:1}),e(l,{label:"展示排序",ui:r},{default:t(()=>[e(i,{ui:d})]),_:1})]),s("div",te,[ae,e(E,{class:"border border-1 border-solid border-gray-300 h-64px w-256px rounded-10px mr-9",src:a(o).tournament_banner.url,fit:"contain","preview-src-list":[a(o).tournament_banner.url]},{error:t(()=>[oe]),_:1},8,["src","preview-src-list"]),e(z,{ref_key:"uploadBannerRef",ref:c,"auto-upload":!1,action:a(o).tournament_banner.uploadApiUrl,limit:1,"on-exceed":V,class:"relative flex"},{trigger:t(()=>[e(b,{class:"mr-5 bg-primary_1 hover:bg-primary_1 active:opacity-80"},{default:t(()=>[x(" 选择图片 ")]),_:1})]),default:t(()=>[e(S,{modelValue:a(_),"onUpdate:modelValue":n[6]||(n[6]=u=>K(_)?_.value=u:null),overlay:!0},{default:t(()=>[s("div",ne,[le,s("div",re,[e(b,{onClick:n[5]||(n[5]=()=>{U()}),class:"bg-primary_2 hover:bg-primary_2 hover:opacity-80 disabled:bg-primary_2",loading:a(f)},{default:t(()=>[x("确认上传")]),_:1},8,["loading"])])])]),_:1},8,["modelValue"]),e(b,{class:"bg-primary_2 hover:bg-primary_2 hover:opacity-80",onClick:n[7]||(n[7]=u=>_.value=!0)},{default:t(()=>[x("上传图片")]),_:1})]),_:1},8,["action"])])]),_:1},8,["state"])])}}});export{ge as default};
