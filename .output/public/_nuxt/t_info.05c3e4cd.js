import{_ as ye,g as xe,a as Ve,E as we,b as je,c as ke,d as Ue}from"./el-progress.b1c6187d.js";import{u as Me,_ as Ce,a as ze}from"./SelectMenu.d9f3361b.js";import{E as Ye}from"./el-button.31ad6e99.js";import{f as Q,q as J,o as _,c as f,F as H,z as T,x as Se,A as O,_ as De,m as C,r as V,n as Be,s as $e,B as te,C as Ie,D as Ee,v as He,a as o,E as Te,y as X,G as Oe,H as Re,I as qe,g as Fe,J as le,w as u,i as e,b as a,t as S,K as E,d as A,j as Ne,L as W}from"./entry.ebd3bb8a.js";import{_ as Pe}from"./Button.76eacea6.js";import{u as Ae}from"./fetch.0affcee4.js";import"./Link.7fab82c8.js";import"./nuxt-link.65fe6b0a.js";import"./Avatar.8b1122f4.js";import"./index.948e5a5f.js";import"./dayjs.min.dc50587d.js";const Xe={id:"custom-check-group"},Le=["onClick"],Ge=Q({__name:"CustomCheckGroup",props:{modelValue:{},itemsList:{}},emits:["update:modelValue","deleted-item"],setup(r,{emit:p}){const b=r,w=J({get(){return b.modelValue},set(g){p("update:modelValue",g)}});function y(g){return b.modelValue?w.value.some(x=>O(x)===O(g)):!1}function D(g){if(!y(g))w.value.push(g);else{const x=w.value.indexOf(g);if(x!==-1){const k=w.value.splice(x,1);p("deleted-item",k)}}}return(g,x)=>(_(),f("div",Xe,[(_(!0),f(H,null,T(b.itemsList,k=>(_(),f("div",{id:"custom-check-item",onClick:()=>D(k)},[Se(g.$slots,"item",{itemData:k,isItemSelected:y})],8,Le))),256))]))}}),Ke=Q({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>C.ui.textarea.default.size,validator(r){return Object.keys(C.ui.textarea.size).includes(r)}},color:{type:String,default:()=>C.ui.textarea.default.color,validator(r){return[...C.ui.colors,...Object.keys(C.ui.textarea.color)].includes(r)}},variant:{type:String,default:()=>C.ui.textarea.default.variant,validator(r){return[...Object.keys(C.ui.textarea.variant),...Object.values(C.ui.textarea.color).flatMap(p=>Object.keys(p))].includes(r)}},ui:{type:Object,default:()=>C.ui.textarea}},emits:["update:modelValue","blur"],setup(r,{emit:p}){const b=V(null),w=Be(),y=J(()=>$e({},r.ui,w.ui.textarea)),{emitFormBlur:D}=Me(),g=()=>{var h;r.autofocus&&((h=b.value)==null||h.focus())},x=()=>{if(r.autoresize){if(!b.value)return;b.value.rows=r.rows;const h=window.getComputedStyle(b.value),B=parseInt(h.paddingTop),z=parseInt(h.paddingBottom),$=B+z,U=parseInt(h.lineHeight),{scrollHeight:R}=b.value,c=(R-$)/U;c>r.rows&&(b.value.rows=c)}},k=h=>{x(),p("update:modelValue",h.target.value)},L=h=>{D(),p("blur",h)};te(()=>{setTimeout(()=>{g()},100)}),Ie(()=>r.modelValue,()=>{Ee(x)}),te(()=>{setTimeout(()=>{g(),x()},100)});const l=J(()=>{var B,z;const h=((z=(B=y.value.color)==null?void 0:B[r.color])==null?void 0:z[r.variant])||y.value.variant[r.variant];return He(y.value.base,y.value.rounded,y.value.placeholder,y.value.size[r.size],r.padded?y.value.padding[r.size]:"p-0",h==null?void 0:h.replaceAll("{color}",r.color),!r.resize&&"resize-none")});return{ui:y,textarea:b,textareaClass:l,onInput:k,onBlur:L}}}),We=["id","value","name","rows","required","disabled","placeholder"];function Je(r,p,b,w,y,D){return _(),f("div",{class:X(r.ui.wrapper)},[o("textarea",Te({id:r.name,ref:"textarea",value:r.modelValue,name:r.name,rows:r.rows,required:r.required,disabled:r.disabled,placeholder:r.placeholder,class:["form-textarea",r.textareaClass]},r.$attrs,{onInput:p[0]||(p[0]=(...g)=>r.onInput&&r.onInput(...g)),onBlur:p[1]||(p[1]=(...g)=>r.onBlur&&r.onBlur(...g))}),null,16,We)],2)}const Qe=De(Ke,[["render",Je]]),Ze={class:"flex space-x-9"},et={class:"flex flex-wrap gap-5"},tt={class:"flex flex-wrap gap-5"},lt={class:"flex flex-wrap gap-5"},at={class:""},ot={class:X("text-12px group-hover:text-primary_1")},st={class:"space-y-5"},nt={"font-bold":"","mr-1":""},rt={class:"flex items-center space-x-2"},it=o("span",null,"赛程为",-1),dt={key:0},ut={key:1},pt=o("span",null," 轮，",-1),ct={class:"flex items-center space-x-2"},mt=o("span",null," 分别设置 ",-1),_t={key:0},ft={key:1},bt=o("span",null," 组。",-1),gt={key:0,class:"space-y-2 basis-100%"},vt={class:""},ht={class:"flex leading-32px items-center gap-2 flex-wrap"},yt={class:"flex gap-2"},xt=o("span",null,"本轮赛制",-1),Vt={key:0},wt={key:1},jt={key:0},kt={key:1},Ut={key:0,class:"flex gap-2"},Mt=o("span",null,"晋级名额：",-1),Ct={flex:"","w-150px":""},zt=o("span",null,"前",-1),Yt=o("span",null,"人",-1),St=o("span",null,"晋级下一轮。",-1),Dt={class:"basis-100% flex items-center flex-wrap gap-2"},Bt={class:"flex items-center space-x-2 whitespace-nowrap w-200px"},$t=o("span",null,"及格线",-1),It=o("span",null,"秒，",-1),Et={class:"flex items-center space-x-2 whitespace-nowrap w-200px"},Ht=o("span",null,"还原时限",-1),Tt=o("span",null,"秒",-1),Ot={class:"basis-100% min-w-340px max-w-732px"},Rt={class:"flex flex-wrap gap-5"},qt={class:"flex flex-col gap-2"},Ft={class:"flex gap-2 relative"},Nt=o("div",{class:"i-carbon-add-filled text-#81819D absolute group-hover:opacity-60 group-active:opacity-85"},null,-1),Pt=o("div",{class:"i-carbon-add text-#282867 absolute group-hover:opacity-60 group-active:opacity-85"},null,-1),At=[Nt,Pt],Xt={class:"flex flex-col gap-2"},Lt={class:"flex gap-2 relative"},Gt=o("div",{class:"i-carbon-add-filled text-#81819D absolute group-hover:opacity-60 group-active:opacity-85"},null,-1),Kt=o("div",{class:"i-carbon-add text-#282867 absolute group-hover:opacity-60 group-active:opacity-85"},null,-1),Wt=[Gt,Kt],Jt={class:"flex space-x-9 items-center"},Qt={key:0},Zt={key:1},el={class:"flex items-center"},tl=o("label",{class:"mr-3"},"赛事横幅",-1),ll=o("div",{class:"flex justify-center items-center h-full bg-white"},[o("div",{class:"i-custom-svg:image-placeholder text-#E6EDFF text-44px"})],-1),al={class:"m-4 flex flex-col items-center"},ol=o("div",{class:"text-14px w-160px mb-4 text-center"}," 新上传的文件将覆盖原有上传文件,确定操作？ ",-1),sl={class:"flex justify-around"},nl={class:"flex justify-center items-center pt-9"},vl=Q({__name:"t_info",setup(r){const p={wrapper:"flex items-center",label:{base:"mr-3 font-sans whitespace-nowrap text-18px"},container:"mt-0",error:"text-red-400 dark:text-red-400 mt-1 text-14px"},b={rounded:"rounded-10px",color:{white:{outline:"shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary_1 dark:focus:ring-primary-400"}},base:"relative block w-full disabled:cursor-not-allowed disabled:bg-#E5E5E5 focus:outline-none border-0 min-w-100px"},w=[{id:3,label:"五次去头去尾取平均"},{id:4,label:"三次取平均"},{id:2,label:"三次取最快"},{id:5,label:"两次取最快"},{id:1,label:"单次"}],y=[{project_id:9,project_label:"智能三阶",iconMeta:"i-custom-svg:ai-third-order"},{project_id:1,project_label:"三阶",iconMeta:"i-custom-svg:third-order"},{project_id:3,project_label:"二阶",iconMeta:"i-custom-svg:second-order"},{project_id:5,project_label:"四阶",iconMeta:"i-custom-svg:fourth-order"},{project_id:10,project_label:"五阶",iconMeta:"i-custom-svg:fifth-order"},{project_id:11,project_label:"六阶",iconMeta:"i-custom-svg:sixth-order"},{project_id:12,project_label:"七阶",iconMeta:"i-custom-svg:seventh-order"},{project_id:8,project_label:"三盲",iconMeta:"i-custom-svg:blindness-third-order"},{project_id:18,project_label:"最少步",iconMeta:"i-custom-svg:minimal-steps"},{project_id:7,project_label:"单手",iconMeta:"i-custom-svg:single-handedly"},{project_id:19,project_label:"魔表",iconMeta:"i-custom-svg:magic-watch"},{project_id:14,project_label:"五魔方",iconMeta:"i-custom-svg:megaminx"},{project_id:2,project_label:"金字塔",iconMeta:"i-custom-svg:pyramid"},{project_id:4,project_label:"斜转",iconMeta:"i-custom-svg:oblique-rotation"},{project_id:13,project_label:"SQ1",iconMeta:"i-custom-svg:sq1"},{project_id:15,project_label:"四盲",iconMeta:"i-custom-svg:blindness-fourth-order"},{project_id:16,project_label:"五盲",iconMeta:"i-custom-svg:blindness-fifth-order"},{project_id:17,project_label:"多盲",iconMeta:"i-custom-svg:multiple-blindness"}],D=[{id:1,label:"线下赛"},{id:2,label:"线上赛"}],g=[{id:1,label:"个人赛"},{id:2,label:"团体赛"},{id:3,label:"综合赛"}],x=[{rounds_label:"1",rounds_total:1},{rounds_label:"2",rounds_total:2},{rounds_label:"3",rounds_total:3},{rounds_label:"4",rounds_total:4},{rounds_label:"5",rounds_total:5}],k=[{label:"1",id:1},{label:"2",id:2},{label:"3",id:3},{label:"4",id:4},{label:"5",id:5}],L=["U8","U12","U18","公开组","女子组"],l=V({name:"",mode:void 0,type:void 0,organizer:"",organizer_web_url:"",time_range:["",""],apply_time_range:["",""],location:"",apply_condition:"",apply_condition_remarks:"",apply_quota:0,apply_web_url:"",display_on_homepage:!0,display_order:0,banner:{name:"zzx58",url:"https://p9-passport.byteacctimg.com/img/user-avatar/59296777f828ae4101819744e0ef154c~64x64.awebp",uploadApiUrl:""},projects_detail:[],award_time_range:["",""],signin_time_range:["",""],lottery_time:[{id:1,time_range:["",""]}],break_time:[{id:1,time_range:["",""]}]}),h=Oe(),B=Re(),z=h.params.id;let $;qe(async()=>{if(z){const{data:n}=await Ae(`/api/t_info/${z}`,"$IIKobNW3sP");n.value||($=!1,B.push("/t_info"),alert("赛事不存在")),n.value&&(l.value=n.value,$=!0)}l.value.projects_detail.forEach(n=>{const t={project_id:n.id,project_label:n.label,iconMeta:n.iconMeta};U.value.push(t)}),c.value=l.value.projects_detail.map(n=>n)});const U=V([]),R={id:0,label:"",groups:[],rounds:{total:0,detail:[]},rule_content:"",reduction_limit:"",passline:""},c=V([]),ae=V([structuredClone(R)]),q=n=>{const t=["一","二","三","四","五","六","七","八","九","十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十"];return n>=0&&n<=20?t[n]:n.toString()},F=V(),I=V(!1),G=V(!1),oe=()=>{var n;G.value=!0,(n=F.value)==null||n.submit(),setTimeout(()=>{G.value=!1},1e3),l.value.tournament_banner.url="",setTimeout(()=>{I.value=!1},1e3)},se=n=>{var v,i;(v=F.value)==null||v.clearFiles();const t=n[0];t.uid=xe(),(i=F.value)==null||i.handleStart(t)};let N=V(0);const Z=V();let ne=n=>{Z.value=n};Fe(()=>{if(N.value>U.value.length){N.value-=1;let n=c.value.findIndex(t=>t.project_id===Z.value[0].project_id);n!==-1&&c.value.splice(n,1),console.log(n),console.log(c.value)}if(N.value<U.value.length){N.value+=1;let n=U.value.slice(-1)[0],t=Object.assign(R,n);c.value.push(structuredClone(t))}});const re=()=>{let n={};return n.t_name=l.value.tournament_name,n.t_mode=l.value.tournament_mode,n.t_type=l.value.tournament_type,n.custom_project_detail=ae.value,n.selected_project_detail=c.value,n.selected_project_detail.length===0&&n.custom_project_detail.forEach((t,v)=>{t.label}),[]},ee=V(),ie=async()=>{const n=O(c.value),t=O(l.value);await ee.value.validate()&&(t.projects_detail=[...n]),console.log("solved_formState",t),$?$fetch("/api/t_info/t_create",{method:"post",body:{id:z,t_create_form:t}}).then(i=>{console.log(i),alert(i)}).catch(i=>alert(i)):$fetch("/api/t_info/t_create",{method:"post",body:{t_create_form:t}}).then(i=>{console.log(i),alert(i)}).catch(i=>alert(i))},de=(n,t)=>{let v=O(c.value[t].rounds.detail);c.value[t].rounds.detail=Array.from({length:n},(i,M)=>W({promotion_quota:0,time_range:["",""],t_format:0})),v.map((i,M)=>{c.value[t].rounds.detail[M].time_range=i.time_range})},ue=()=>{l.value.break_time.push(W({id:l.value.break_time.length+1,time_range:["",""]}))},pe=()=>{l.value.lottery_time.push(W({id:l.value.lottery_time.length+1,time_range:["",""]}))};return(n,t)=>{const v=Ve,i=Ce,M=ze,Y=Ye,ce=Ge,me=Qe,_e=we,fe=je,P=Pe,be=ke,ge=Ue,ve=ye;return _(),le(ve,{ref_key:"formRef",ref:ee,state:e(l),class:"space-y-6",validate:re},{default:u(()=>[a(i,{ui:p,label:"比赛名称",name:"t_name"},{default:u(()=>[a(v,{ui:b,modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=s=>e(l).name=s),disabled:!1},null,8,["modelValue"])]),_:1}),o("div",Ze,[a(i,{ui:p,label:"比赛模式",name:"t_mode"},{default:u(()=>[a(M,{modelValue:e(l).mode,"onUpdate:modelValue":t[1]||(t[1]=s=>e(l).mode=s),options:D,placeholder:"请选择比赛模式..","option-attribute":"label",disabled:!1},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"比赛类型",name:"t_type"},{default:u(()=>[a(M,{modelValue:e(l).type,"onUpdate:modelValue":t[2]||(t[2]=s=>e(l).type=s),options:g,"option-attribute":"label",placeholder:"请选择比赛类型..",disabled:!1},null,8,["modelValue"])]),_:1})]),o("div",et,[a(i,{ui:p,label:"主办方"},{default:u(()=>[a(v,{class:"min-w-200px",ui:b,modelValue:e(l).organizer,"onUpdate:modelValue":t[3]||(t[3]=s=>e(l).organizer=s),disabled:!1},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"主办网站"},{default:u(()=>[a(v,{class:"min-w-200px",ui:b,modelValue:e(l).organizer_web_url,"onUpdate:modelValue":t[4]||(t[4]=s=>e(l).organizer_web_url=s),disabled:!1},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"报名网站"},{default:u(()=>[a(v,{class:"min-w-200px",ui:b,modelValue:e(l).apply_web_url,"onUpdate:modelValue":t[5]||(t[5]=s=>e(l).apply_web_url=s),disabled:!1},null,8,["modelValue"])]),_:1})]),o("div",tt,[a(i,{ui:p,label:"比赛时间",class:"items-center"},{default:u(()=>[a(Y,{type:"datetimerange","start-placeholder":"开始时间","end-placeholder":"结束时间",size:"large",modelValue:e(l).time_range,"onUpdate:modelValue":t[6]||(t[6]=s=>e(l).time_range=s),"value-format":"X",format:"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"报名起止时间",class:"items-center"},{default:u(()=>[a(Y,{type:"datetimerange",placeholder:"选择报名截止时间","start-placeholder":"开始时间","end-placeholder":"结束时间",size:"large",modelValue:e(l).apply_time_range,"onUpdate:modelValue":t[7]||(t[7]=s=>e(l).apply_time_range=s),"value-format":"X",format:"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1})]),a(i,{ui:p,label:"比赛地点"},{default:u(()=>[a(v,{class:"min-w-340px",ui:b,modelValue:e(l).location,"onUpdate:modelValue":t[8]||(t[8]=s=>e(l).location=s),disabled:!1},null,8,["modelValue"])]),_:1}),o("div",lt,[a(i,{ui:p,label:"比赛条件"},{default:u(()=>[a(v,{ui:b,modelValue:e(l).apply_condition,"onUpdate:modelValue":t[9]||(t[9]=s=>e(l).apply_condition=s),disabled:!1},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"备注"},{default:u(()=>[a(v,{ui:b,modelValue:e(l).apply_condition_remarks,"onUpdate:modelValue":t[10]||(t[10]=s=>e(l).apply_condition_remarks=s),disabled:!1},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"报名名额"},{default:u(()=>[a(v,{ui:b,modelValue:e(l).apply_quota,"onUpdate:modelValue":t[11]||(t[11]=s=>e(l).apply_quota=s),disabled:!1,type:"number"},null,8,["modelValue"])]),_:1})]),o("div",at,[a(i,{ui:Object.assign({},p,{wrapper:"flex items-start",label:{base:"mr-3 mt-2 font-sans whitespace-nowrap text-18px"}}),label:"比赛项目"},{default:u(()=>[a(ce,{"model-value":e(U),onDeletedItem:e(ne),"items-list":y,class:"border box-border border-1px border-solid border-gray-300 rounded-10px p-3 min-w-340px bg-white text-primary_2 leading-28px grid grid-rows-2 grid-cols-9 gap-2"},{item:u(({itemData:s,isItemSelected:d})=>[o("div",{class:X(`group flex flex-col items-center ${d(s)?"text-primary_1":""}`)},[o("div",{class:X(`${s.iconMeta} text-28px group-hover:bg-primary_1 group-hover:opacity-50`)},null,2),o("label",ot,S(s.project_label),1)],2)]),_:1},8,["model-value","onDeletedItem"])]),_:1},8,["ui"])]),e(U).length?(_(),le(i,{key:0,ui:Object.assign({},p,{wrapper:"flex items-start",label:{base:"mr-3 mt-2 font-sans whitespace-nowrap text-18px"}}),label:"比赛规则",name:"customCreateProjectDetail"},{default:u(()=>[o("div",st,[(_(!0),f(H,null,T(e(U),(s,d)=>(_(),f("div",{class:"flex items-center gap-2 flex-wrap",key:d},[o("span",nt,"项目"+S(q(d)),1),o("span",null,S(s.project_label),1),o("div",rt,[it,a(M,{modelValue:e(c)[d].rounds.total,"onUpdate:modelValue":m=>e(c)[d].rounds.total=m,options:x,"option-attribute":"rounds_label","value-attribute":"rounds_total",placeholder:"请选择比赛轮次..",onChange:m=>{de(m,d)}},{label:u(()=>[e(c)[d].rounds.total?(_(),f("span",dt,S(e(c)[d].rounds.total),1)):(_(),f("span",ut,"请选择比赛轮次.."))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),pt]),o("div",ct,[mt,a(M,{modelValue:e(c)[d].groups,"onUpdate:modelValue":m=>e(c)[d].groups=m,"option-attribute":"group_label",options:L,placeholder:"请设置比赛组别..",multiple:""},{label:u(()=>[e(c)[d].groups.length?(_(),f("span",_t,S(e(c)[d].groups.map(m=>m).join(",")),1)):(_(),f("span",ft,"请设置参赛组别.."))]),_:2},1032,["modelValue","onUpdate:modelValue"]),bt]),e(c)[d].rounds.total?(_(),f("div",gt,[(_(!0),f(H,null,T(e(c)[d].rounds.detail,(m,K)=>(_(),f("div",vt,[o("div",ht,[a(i,{label:`第${q(K)}轮`,ui:Object.assign(p,{label:{base:"mr-3 font-sans whitespace-nowrap text-16px leading-32px flex"},wrapper:"flex items-center",container:"mt-0"})},{default:u(()=>[a(Y,{type:"datetimerange","start-placeholder":"轮次开始时间","end-placeholder":"轮次结束时间",size:"default","range-separator":"到","value-format":"X","model-value":m.time_range,"onUpdate:modelValue":[j=>m.time_range=j,j=>{m.time_range.value=j}],format:"YYYY-MM-DD HH:mm"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["label","ui"]),o("div",yt,[xt,a(M,{options:w,"option-attribute":"label","value-attribute":"id",modelValue:m.t_format,"onUpdate:modelValue":j=>m.t_format=j,placeholder:"请选择本轮赛制.."},{label:u(()=>{var j;return[m.t_format?(_(),f("span",Vt,S((j=w.find(he=>he.id===(m==null?void 0:m.t_format)))==null?void 0:j.label),1)):(_(),f("span",wt,"请选择本轮赛制.."))]}),_:2},1032,["modelValue","onUpdate:modelValue"]),K!==e(c)[d].rounds.detail.length-1?(_(),f("span",jt,",")):(_(),f("span",kt,"。"))]),K!==e(c)[d].rounds.detail.length-1?(_(),f("div",Ut,[Mt,o("div",Ct,[zt,a(v,{modelValue:m.promotion_quota,"onUpdate:modelValue":j=>m.promotion_quota=j,ui:b,type:"number"},null,8,["modelValue","onUpdate:modelValue"]),Yt]),St])):E("",!0)])]))),256))])):E("",!0),o("div",Dt,[o("div",Bt,[$t,a(v,{ui:b,"model-value":e(c)[d].passline,"onUpdate:modelValue":m=>e(c)[d].passline=m,type:"number"},null,8,["model-value","onUpdate:modelValue"]),It]),o("div",Et,[Ht,a(v,{ui:b,"model-value":e(c)[d].reduction_limit,"onUpdate:modelValue":m=>e(c)[d].reduction_limit=m,type:"number"},null,8,["model-value","onUpdate:modelValue"]),Tt])]),o("div",Ot,[a(me,{placeholder:"比赛详细规则 选填",modelValue:e(c)[d].rule_content,"onUpdate:modelValue":m=>e(c)[d].rule_content=m,ui:b},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1},8,["ui"])):E("",!0),o("div",Rt,[a(i,{ui:p,label:"签到时间",class:"items-center"},{default:u(()=>[a(Y,{type:"datetimerange","start-placeholder":"开始时间","end-placeholder":"结束时间",size:"default",modelValue:e(l).signin_time_range,"onUpdate:modelValue":t[12]||(t[12]=s=>e(l).signin_time_range=s),"value-format":"X",format:"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"颁奖时间",class:"items-center"},{default:u(()=>[a(Y,{type:"datetimerange",placeholder:"颁奖时间","start-placeholder":"开始时间","end-placeholder":"结束时间",size:"default",modelValue:e(l).award_time_range,"onUpdate:modelValue":t[13]||(t[13]=s=>e(l).award_time_range=s),"value-format":"X",format:"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1})]),o("div",qt,[(_(!0),f(H,null,T(e(l).break_time,(s,d)=>(_(),f("div",{key:s.id},[o("div",Ft,[a(i,{label:`第${q(d)}轮 休息时间`,ui:Object.assign(p,{label:{base:"mr-3 font-sans whitespace-nowrap text-16px leading-32px flex"},wrapper:"flex items-center",container:"mt-0"})},{default:u(()=>[a(Y,{type:"datetimerange","start-placeholder":"轮次开始时间","end-placeholder":"轮次结束时间",size:"default","range-separator":"到","value-format":"X",modelValue:e(l).break_time[d].time_range,"onUpdate:modelValue":m=>e(l).break_time[d].time_range=m,format:"YYYY-MM-DD HH:mm"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","ui"]),d===e(l).break_time.length-1?(_(),f("div",{key:0,onClick:ue,class:"group text-24px flex items-center"},At)):E("",!0)])]))),128))]),o("div",Xt,[(_(!0),f(H,null,T(e(l).lottery_time,(s,d)=>(_(),f("div",{key:s.id},[o("div",Lt,[a(i,{label:`第${q(d)}轮 抽奖时间`,ui:Object.assign(p,{label:{base:"mr-3 font-sans whitespace-nowrap text-16px leading-32px flex"},wrapper:"flex items-center",container:"mt-0"})},{default:u(()=>[a(Y,{type:"datetimerange","start-placeholder":"轮次开始时间","end-placeholder":"轮次结束时间",size:"default","range-separator":"到","value-format":"X",modelValue:e(l).lottery_time[d].time_range,"onUpdate:modelValue":m=>e(l).lottery_time[d].time_range=m,format:"YYYY-MM-DD HH:mm"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","ui"]),d===e(l).lottery_time.length-1?(_(),f("div",{key:0,onClick:pe,class:"group text-24px flex items-center"},Wt)):E("",!0)])]))),128))]),o("div",Jt,[a(i,{ui:p,label:"是否上首页赛事展示",class:"items-center"},{default:u(()=>[a(_e,{modelValue:e(l).display_on_homepage,"onUpdate:modelValue":t[14]||(t[14]=s=>e(l).display_on_homepage=s),style:{"--el-switch-off-color":"#70708c","--el-switch-on-color":"#ff8f6b"},size:"large","active-text":"是","inactive-text":"否","inline-prompt":""},null,8,["modelValue"])]),_:1}),a(i,{ui:p,label:"展示排序"},{default:u(()=>[a(M,{placeholder:"请选择展示排序..",options:k,"option-attribute":"label","value-attribute":"id",modelValue:e(l).display_order,"onUpdate:modelValue":t[15]||(t[15]=s=>e(l).display_order=s)},{label:u(()=>{var s;return[e(l).display_order?(_(),f("span",Qt,S((s=k.find(d=>d.id===e(l).display_order))==null?void 0:s.label),1)):(_(),f("span",Zt,"请选择展示排序.."))]}),_:1},8,["modelValue"])]),_:1})]),o("div",el,[tl,a(fe,{class:"border border-1 border-solid border-gray-300 h-64px w-256px rounded-10px mr-9",src:e(l).banner.url,fit:"contain","preview-src-list":[e(l).banner.url]},{error:u(()=>[ll]),_:1},8,["src","preview-src-list"]),a(ge,{ref_key:"uploadBannerRef",ref:F,"auto-upload":!1,action:e(l).banner.uploadApiUrl,limit:1,"on-exceed":se,class:"relative flex"},{trigger:u(()=>[a(P,{class:"mr-5 bg-primary_1 hover:bg-primary_1 active:opacity-80"},{default:u(()=>[A(" 选择图片 ")]),_:1})]),default:u(()=>[a(be,{modelValue:e(I),"onUpdate:modelValue":t[17]||(t[17]=s=>Ne(I)?I.value=s:null),overlay:!0},{default:u(()=>[o("div",al,[ol,o("div",sl,[a(P,{onClick:t[16]||(t[16]=()=>{oe()}),class:"bg-primary_2 hover:bg-primary_2 hover:opacity-80 disabled:bg-primary_2",loading:e(G)},{default:u(()=>[A("确认上传")]),_:1},8,["loading"])])])]),_:1},8,["modelValue"]),a(P,{class:"bg-primary_2 hover:bg-primary_2 hover:opacity-80",onClick:t[18]||(t[18]=s=>I.value=!0)},{default:u(()=>[A("上传图片")]),_:1})]),_:1},8,["action"])]),o("div",nl,[a(P,{class:"bg-primary_1 active:bg-opacity-80 w-120px h-48px justify-center rounded-24px",onClick:t[19]||(t[19]=s=>ie())},{default:u(()=>[A("确认创建")]),_:1})])]),_:1},8,["state"])}}});export{vl as default};
